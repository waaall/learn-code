# learn swift

[toc]



swiftæ˜¯ä¸€é—¨è¯­è¨€ï¼Œè¯­è¨€æœ¬èº«å’Œæ“ä½œç³»ç»Ÿï¼Œç¡¬ä»¶ï¼ŒAPIç­‰éƒ½æ˜¯æ²¡æœ‰å…³ç³»çš„ï¼Œä½†å› ä¸ºswiftæ˜¯æœ‰Appleåˆ›é€ çš„ï¼ˆè™½ç„¶ç°åœ¨æ˜¯å¼€æºçš„ï¼‰ç”¨äºä¸”ä»…ç”¨äºAppleäº§å“çš„è½¯ä»¶å¼€å‘ï¼Œç›®å‰ç”±æŒ‡IOSå’ŒMacOSçš„è½¯ä»¶å¼€å‘ã€‚ï¼ˆç†è®ºä¸Šä¹Ÿå¯ä»¥åšå…¶ä»–æ“ä½œç³»ç»Ÿçš„é€‚é…ï¼Œä½†æ˜¯æ²¡â€œäººâ€åšï¼Œå°†æ¥ä¹Ÿå‡ ä¹æ²¡æœ‰â€œäººâ€å»åšï¼Œå¾®è½¯æœ‰c#ï¼Œc++ï¼Œè°·æ­Œæœ‰javaï¼‰æ‰€ä»¥å‘¢ï¼Œè¿™å°±ä¸ä»…ä»…æ˜¯å­¦ä¹ ä¸€é—¨è¯­è¨€ï¼Œæ‰€ä»¥è¿™ä¸ªåå­—ä¹Ÿä¸å¤ªæ°å½“â€”â€”è¿™åº”è¯¥æ˜¯Apple è½¯ç¡¬ä»¶ç”Ÿæ€çš„è½¯ä»¶å¼€å‘å­¦ä¹ ã€‚

## Apple APIæ¡†æ¶

### æ€»ä½“æ¡†æ¶

æ‰€ä»¥æˆ‘ä»¬ä»ä¸€å¼€å§‹å°±ä¸åº”è¯¥æ‹¿è¿‡è¯­è¨€æ¥å­¦ä¹ ï¼ˆæ¯”å¦‚æ€ä¹ˆå£°æ˜é‡ï¼Œå‡½æ•°æˆ–è€…ç±»ï¼Œç„¶åæœ‰å“ªäº›â€œæ–°â€ç‰¹æ€§ï¼‰ï¼Œè€Œæ˜¯å…ˆäº†è§£Macç³»ç»Ÿçš„æ¡†æ¶ï¼š

![87A314AE-F227-4EC8-8D77-99E3AA5ADA44_4_5005_c](learn-swift.assets/87A314AE-F227-4EC8-8D77-99E3AA5ADA44_4_5005_c.jpeg)

**ç”±Appleçš„[Documentation Archive](https://developer.apple.com/library/archive/navigation/)ç½‘ç«™çš„ç›®å½•ï¼Œæˆ‘ä»¬ä¹Ÿèƒ½çœ‹åˆ°æ¸…æ™°çš„æ¶æ„å›¾ï¼š**

- [Cocoa Layer](https://developer.apple.com/library/archive/navigation/#section=Frameworks&topic=Cocoa Layer)

- - AddressBookUI
  - AppKit
  - ContactsUI
  - Intents
  - MapKit
  - MessageUI
  - Messages
  - ReplayKit
  - ScreenSaver
  - SecurityInterface
  - TVMLKit
  - Twitter
  - UIKit
  - WatchKit
  - iAd

- [Web Services](https://developer.apple.com/library/archive/navigation/#section=Frameworks&topic=Web Services)

- - Safari Extensions
  - iAd JS

- [Media Layer](https://developer.apple.com/library/archive/navigation/#section=Frameworks&topic=Media Layer)

- - ARKit
  - AVFoundation
  - AVKit
  - AudioToolbox
  - AudioUnit
  - AudioVideoBridging
  - CoreAudio
  - CoreGraphics
  - CoreImage
  - CoreMIDI
  - CoreText
  - CoreVideo
  - DVDPlayback
  - DiscRecording
  - GLKit
  - GameController
  - IMServicePlugIn
  - ImageIO
  - InstantMessage
  - MediaLibrary
  - Metal
  - Metal Performance Shaders
  - ModelIO
  - OpenAL
  - OpenGL
  - OpenGLES
  - Photos
  - QTKit
  - Quartz
  - QuartzCore
  - QuickTime
  - SceneKit
  - SpriteKit

- [Core Services Layer](https://developer.apple.com/library/archive/navigation/#section=Frameworks&topic=Core Services Layer)

- - AddressBook
  - ApplePay JS
  - ApplicationServices
  - Automator
  - CFNetwork
  - CalendarStore
  - CallKit
  - Carbon
  - CloudKit
  - Collaboration
  - Contacts
  - CoreData
  - CoreFoundation
  - CoreLocation
  - CoreMedia
  - CoreMotion
  - CoreServices
  - CryptoTokenKit
  - EventKit
  - Foundation
  - GameCenter
  - GameplayKit
  - HealthKit
  - HomeKit
  - InputMethodKit
  - InterfaceBuilderKit
  - JavaScriptCore
  - LatentSemanticMapping
  - MultipeerConnectivity
  - OpenDirectory
  - PassKit
  - PublicationSubscription
  - PushKit
  - QuickLook
  - SafariServices
  - ScriptingBridge
  - Security
  - ServiceManagement
  - Speech
  - StoreKit
  - SyncServices
  - WatchConnectivity
  - WebKit
  - WebObjects

- [Core OS Layer](https://developer.apple.com/library/archive/navigation/#section=Frameworks&topic=Core OS Layer)

- - Accelerate
  - CoreBluetooth
  - DirectoryService
  - DiskArbitration
  - ExternalAccessory
  - LocalAuthentication
  - NetworkExtension
  - OpenCL
  - System
  - SystemConfiguration
  - XCTest
  - XgridFoundation

- [Kernel & Driver Layer](https://developer.apple.com/library/archive/navigation/#section=Frameworks&topic=Kernel %26amp%3B Driver Layer)

- - IOBluetooth
  - IOKit
  - ImageCaptureCore
  - Kernel



è®¡ç®—æœºå¤§æ¡†æ¶éƒ½æ˜¯å¦‚å‡ºä¸€è¾™ï¼Œä¸ä¼šæœ‰æœ¬è´¨çš„å˜åŒ–çš„ï¼Œä¹Ÿå°±æ˜¯å±‚å±‚æŠ½è±¡â€”â€”â€”ä»ç¡¬ä»¶åˆ°æ“ä½œç³»ç»Ÿåˆ°APIåˆ°è½¯ä»¶çš„æ€»ä½“æ¡†æ¶ã€‚è€Œå¯¹äºMacOSï¼Œæˆ‘ä»¬åšçš„å½“ç„¶æ˜¯çœ‹çœ‹Appleå¯¹æ­¤çš„å…·ä½“å®ç°å½¢å¼æ˜¯ä»€ä¹ˆï¼Œå†æ¥è®¨è®ºå®ƒä»¬çš„ä¼˜ç¼ºç‚¹ï¼ˆè¿™ä¼šæ˜¯å¾ˆåæ¥çš„äº‹å„¿äº†ï¼‰ã€‚

>[Macæ¶æ„](https://guofanbang.com/macosç»“æ„çŸ¥å¤šå°‘ï¼Œä¸€çœ‹å°±æ‡‚äº†.html)
>
>å‰èº«
>
>1985å¹´ï¼Œä¹”å¸ƒæ–¯åœ¨å†…éƒ¨æ–—äº‰å¤±è´¥ï¼Œç¦»å¼€è‹¹æœåˆ›å»ºäº†NeXTï¼Œåœ¨NeXTä¸­ï¼Œä»–çš„å›¢é˜ŸåŸºäºMachå’ŒBSDåˆ›å»ºäº†ä¸€æ¬¾ç±»Unixçš„é¢å‘å¯¹è±¡çš„æ“ä½œç³»ç»Ÿâ€”â€”NeXTSTEPï¼Œ1996å¹´ä¹”å¸ƒæ–¯å›å½’è‹¹æœä¹‹åï¼Œè¿™æ¬¾å…ˆè¿›äºClassic Mac OSçš„æ“ä½œç³»ç»Ÿä¹Ÿéšä¹‹æ¥åˆ°äº†è‹¹æœï¼Œæœ€ç»ˆå–ä»£äº†æ¯”è¾ƒåŸå§‹çš„Classic Mac OSã€‚
>
>Darwin Operarting System
>
>[Appleå†…æ ¸å¼€å‘å®˜æ–¹æ–‡æ¡£](https://developer.apple.com/library/archive/documentation/Darwin/Conceptual/KernelProgramming/Architecture/Architecture.html)
>Darwinæ˜¯macOSçš„åŸºç¡€éƒ¨åˆ†ï¼ˆæˆ–è€…ç§°ä¸ºCore OSï¼‰ï¼Œå®ƒä¹Ÿæ˜¯ä¸€æ¬¾å¼€æ”¾æºä»£ç çš„ç±»Unixæ“ä½œç³»ç»Ÿã€‚å®ƒå¤§ä½“ç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼šXNUå†…æ ¸å’ŒUnixå·¥å…·ã€‚
>
>ç”±äºå¼€æ”¾æºä»£ç çš„ç‰¹æ€§ï¼Œæ‰€ä»¥ä¸€äº›ç»„ç»‡æ­£åœ¨åˆ©ç”¨è‹¹æœé‡Šå‡ºçš„Darwinæºç è¿›è¡ŒäºŒæ¬¡å¼€å‘ï¼Œæ¯”å¦‚PureDarwiné¡¹ç›®ã€‚
>
>XNU
>
>æˆ‘ä»¬é€šå¸¸ä¼šè¯´macOSçš„å†…æ ¸æ˜¯â€œDarwinâ€ï¼Œå…¶å®è¿™æ˜¯ä¸€ä¸ªä¸ä¸¥è°¨çš„è¯´æ³•ï¼Œå› ä¸ºDarwinä¸åªåŒ…å«å†…æ ¸ï¼Œè¿˜åŒ…æ‹¬å…¶ä»–ä¸œè¥¿ã€‚ä¸¥æ ¼æ¥è¯´macOSçš„å†…æ ¸æ˜¯XNUã€‚
>
>è¯´åˆ°è¿™é‡Œï¼Œæ’ä¸€å¥é¢˜å¤–è¯ï¼Œè‹¹æœæœ‰ä¸€ä¸ªè‡ªç›¸çŸ›ç›¾çš„åœ°æ–¹ï¼Œè™½ç„¶macOSå·²ç»é€šè¿‡Unixè®¤è¯ï¼Œç„¶è€ŒXNUçš„å…¨ç§°å’ŒGNUæ ¼å¼ä¸€æ ·ï¼Œæ˜¯XNUâ€™s not Unixï¼Œé¡¾åæ€ä¹‰ï¼ŒXNUä¸æ˜¯Unixã€‚
>
>XNUæ˜¯macOSçš„æ ¸å¿ƒéƒ¨åˆ†ï¼Œå®ƒæ˜¯ä¸€æ¬¾ç»“åˆäº†å¾®å†…æ ¸ä¸å®å†…æ ¸ç‰¹æ€§çš„æ··åˆå†…æ ¸ï¼Œå®ƒåŒ…æ‹¬ä¸‰ä¸ªéƒ¨åˆ†ï¼šMachã€BSDå’ŒI/O Kitã€‚
>
>Mach
>
>MachåŸæ¥æ˜¯ä¸€æ¬¾å¾®å†…æ ¸ï¼ŒXNUä¸­çš„Machæ¥è‡ªäºOSFMK 7.3ï¼ˆOpen Software Foundation Mach Kernel)ï¼‰å®ƒè´Ÿè´£CPUè°ƒåº¦ã€å†…å­˜ä¿æŠ¤ç­‰åŠŸèƒ½ã€‚å®ƒæ˜¯macOSå†…æ ¸ä¸­æœ€é‡è¦çš„éƒ¨åˆ†ï¼ŒXNUä¸­å¤§éƒ¨åˆ†ä»£ç æ¥è‡ªäºå®ƒï¼Œè€Œä¸”macOSä¸­çš„å¯æ‰§è¡Œæ–‡ä»¶ä¹Ÿæ˜¯mach-oæ ¼å¼ã€‚
>
>BSD
>
>XNUä¸­åŒ…å«ä¸€ä¸ªç»è¿‡ä¿®æ”¹çš„BSDï¼Œå®ƒè´Ÿè´£è¿›ç¨‹ç®¡ç†ã€Unixæ–‡ä»¶æƒé™ã€ç½‘ç»œå †æ ˆã€è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿã€POSIXå…¼å®¹ã€‚macOSä¹‹æ‰€ä»¥ç¬¦åˆå•ä¸€Unixè§„èŒƒï¼Œä¹Ÿæ­£æ˜¯å› ä¸ºå¦‚æ­¤ã€‚
>
>I/O Kit
>
>I/O Kitæ˜¯XNUå†…æ ¸ä¸­çš„å¼€æºæ¡†æ¶ï¼Œå¯å¸®åŠ©å¼€å‘äººå‘˜ä¸ºAppleçš„macOSå’ŒiOSæ“ä½œç³»ç»Ÿç¼–å†™è®¾å¤‡é©±åŠ¨ç¨‹åºä»£ç ã€‚I/O Kitæ¡†æ¶ç”±NeXTSTEPçš„DriverKitæ¼”å˜è€Œæ¥ï¼Œä¸Mac OS 9çš„è®¾å¤‡é©±åŠ¨ç¨‹åºæ¡†æ¶æˆ–BSDçš„æ²¡æœ‰ä»»ä½•ç›¸ä¼¼ä¹‹å¤„ã€‚
>
>å‘½ä»¤è¡Œå·¥å…·
>
>é™¤äº†å†…æ ¸ä»¥å¤–ï¼ŒDarwinè¿˜åŒ…æ‹¬ä¸€äº›Unixå·¥å…·ï¼Œè¿™äº›Unixå·¥å…·ä¸€äº›æ˜¯Appleå¼€å‘ï¼Œä¸€äº›æ¥è‡ªäºç¬¬ä¸‰æ–¹ï¼Œæ¯”å¦‚FreeBSD Projectã€GNU Projectã€Apacheã€‚
>
>åˆå§‹åŒ–ç¨‹åºlaunchd
>
>Launchdç”±è‹¹æœå¼€å‘ï¼Œå®ƒæ˜¯ä¸€æ¬¾ç»Ÿä¸€æœåŠ¡ç®¡ç†æ¡†æ¶ï¼Œç”¨äºå¯åŠ¨ï¼Œåœæ­¢å’Œç®¡ç†macOSä¸­çš„å®ˆæŠ¤è¿›ç¨‹ï¼Œåº”ç”¨ç¨‹åºï¼Œè¿›ç¨‹å’Œè„šæœ¬ã€‚ç”±äºå®ƒæ”¯æŒå¤šçº¿ç¨‹ï¼Œæ‰€ä»¥å®ƒæ¯”ä¼ ç»Ÿçš„Unixåˆå§‹åŒ–ç¨‹åºSysVinitè¦é«˜ï¼ŒlaunchdåŒæ—¶æ­£åœ¨è¢«ç§»æ¤åˆ°FreeBSDå¹³å°ï¼Œå®ƒçš„è®¾è®¡æ€æƒ³ä¹Ÿè¢«systemdæ‰€å€Ÿé‰´ï¼Œåè€…æˆä¸ºç›®å‰Linuxå‘è¡Œç‰ˆä¸­çš„ä¸»æµç³»ç»Ÿåˆå§‹åŒ–ç¨‹åºã€‚
>
>Core Foundation
>
>Core Foundationï¼ˆä¹Ÿç§°ä¸ºCFï¼‰æ˜¯macOSå’ŒiOSä¸­çš„Cåº”ç”¨ç¨‹åºç¼–ç¨‹æ¥å£ï¼ˆAPIï¼‰ï¼Œæ˜¯ä½çº§ä¾‹ç¨‹å’ŒåŒ…è£…å‡½æ•°çš„æ··åˆã€‚
>
>Core Graphics
>
>The Core Graphics framework is based on the Quartz advanced drawing engine. It provides low-level, lightweight 2D rendering with unmatched output fidelity. You use this framework to handle path-based drawing, transformations, color management, offscreen rendering, patterns, gradients and shadings, image data management, image creation, and image masking, as well as PDF document creation, display, and parsing.
>In macOS, Core Graphics also includes services for working with display hardware, low-level user input events, and the windowing system.
>
>Quartz
>
>macOSæ¯•ç«Ÿæ˜¯ç±»Unixæ“ä½œç³»ç»Ÿï¼Œç±»Unixæ“ä½œç³»ç»Ÿæƒ³è¦è¿›è¡Œå›¾å½¢åŒ–æ“ä½œï¼Œå¿…é¡»è¦æœ‰ä¸€ä¸ªå›¾å½¢æ¡†æ¶ï¼Œåœ¨Linuxä¸Šæˆ‘ä»¬æœ‰X11ï¼Œæœ‰Waylandï¼Œåœ¨macOSä¸­ï¼Œæˆ‘ä»¬æœ‰Quartzã€‚å®ƒæ˜¯ä¸€æ¬¾åŸºäºPDFæŠ€æœ¯çš„å›¾å½¢æ¡†æ¶ã€‚
>
>ä½œä¸ºä¸€ä¸ªç±»unixï¼Œä¸å…¼å®¹X11æ˜¯ä¸å¯èƒ½çš„ï¼Œå¦‚æœä½ æƒ³åœ¨macOSä¸­è¿è¡ŒX11åº”ç”¨ï¼Œä¹Ÿå¯ä»¥ï¼Œæœ‰ä¸ªå¼€æºé¡¹ç›®å«XQuartzäº†è§£ä¸€ä¸‹ã€‚
>
>Cocoa
>
>Cocoaæ˜¯è‹¹æœå…¬å¸ä¸ºMac OS Xæ‰€åˆ›å»ºçš„åŸç”Ÿé¢å‘å¯¹è±¡çš„APIï¼Œæ˜¯Mac OS Xä¸Šäº”å¤§APIä¹‹ä¸€ï¼ˆå…¶å®ƒå››ä¸ªæ˜¯Carbonã€POSIXã€X11å’ŒJavaï¼‰ã€‚
>
>è‹¹æœçš„é¢å‘å¯¹è±¡å¼€å‘æ¡†æ¶ï¼Œç”¨æ¥ç”ŸæˆMac OS Xçš„åº”ç”¨ç¨‹åºã€‚ä¸»è¦çš„å¼€å‘è¯­è¨€ä¸ºObjective-c,ä¸€ä¸ªcçš„è¶…é›†ã€‚Cocoaå¼€å§‹äº1989å¹´9æœˆä¸Šå¸‚çš„NeXTSTEP 1.0ï¼Œå½“æ—¶æ²¡æœ‰Foundationæ¡†æ¶ï¼Œåªæœ‰åŠ¨æ€è¿è¡Œåº“ï¼Œç§°ä¸ºkit,æœ€é‡è¦çš„æ˜¯AppKit. 1993å¹´NeXTSTEP 3.1è¢«ç§»æ¤åˆ°äº†Intel, Sparc, HPçš„å¹³å°ä¸Šï¼ŒFoundationé¦–æ¬¡è¢«åŠ å…¥ï¼ŒåŒæ—¶Sunå’ŒNeXTåˆä½œå¼€å‘OpenStepä¹Ÿå¯ä»¥è¿è¡Œåœ¨Windowsç³»ç»Ÿä¸ŠVCVã€‚
>
>æ®è¯´Cocoa APIé‡Œé¢åˆ°ç°åœ¨è¿˜æœ‰ä¸å°‘NSå¼€å¤´çš„APIï¼Œä½•ä¸ºNSï¼ŸNSè€…ï¼ŒNeXTSTEPä¹Ÿã€‚
>
>Spotlight
>
>10.4ï¼ˆTigerï¼‰ä¸­å¼•å…¥çš„å¿«é€Ÿæœç´¢æŠ€æœ¯ï¼Œä»iOS3.0å¼€å§‹è¢«ç§»æ¤åˆ°iOSã€‚å…¶èƒŒåçš„æ ¸å¿ƒåŠ›é‡æ˜¯ä¸€ä¸ªç´¢å¼•æœåŠ¡å™¨mdsï¼Œmdsåœ¨MetaDataæ¡†æ¶ä¸­ï¼Œæ˜¯ä¸€ä¸ªæ²¡æœ‰GUIçš„åå°æœåŠ¡ã€‚åœ¨å‘½ä»¤è¡Œå¯ä»¥é€šè¿‡mdxxxè®¿é—®ã€‚
>
>Aqua UI
>
>macOSçš„æ¡Œé¢ç¯å¢ƒï¼Œç±»ä¼¼Linuxä¸­çš„GNOMEã€‚
>
>ä¸è¿‡ï¼Œä¸æ˜¯æ‰€æœ‰Mac OS Xéƒ½æ˜¯Aqua UIï¼Œåœ¨Mac OS Xæ—©æœŸæµ‹è¯•ç‰ˆRhapsoyä¸­ï¼Œç”¨çš„è¿˜æ˜¯ç»å…¸çš„Classic Mac OSç•Œé¢ã€‚
>
>ç³»ç»Ÿçš„ç¬¬ä¸€ä¸ªç”¨æˆ·è¿›ç¨‹launchdè´Ÿè´£å¯åŠ¨GUIï¼Œæ”¯æŒGUIå·¥ä½œçš„ä¸»è¿›ç¨‹æ˜¯WindowServerã€‚è¿™ä¸ªç¨‹åºæ˜¯CoreGraphicsæ¡†æ¶çš„ä¸€éƒ¨åˆ†ï¼Œè€ŒCoreGraphicsæ¡†æ¶æ·±æ·±è—åœ¨å¦ä¸€ä¸ªæ¡†æ¶ApplicationServicesä¸­ã€‚
>
>WindowServerçš„ä»£ç å®é™…ä¸Šä¸å®Œæˆä»»ä½•å®é™…å·¥ä½œï¼Œè€Œæ˜¯ç”±CoreGraphicsä¸­çš„CGXServerå‡½æ•°å®Œæˆã€‚CGXServerä¼šæ£€æŸ¥è‡ªå·±æ˜¯å¦ä»¥ä½•ç§æ–¹å¼è¿è¡Œï¼Œç„¶ååœ¨åå°forkå‡ºå­è¿›ç¨‹ï¼Œå½“å­è¿›ç¨‹å‡†å¤‡å¥½åï¼ŒLoginWindowï¼ˆç”±launchdå¯åŠ¨ï¼‰å¯åŠ¨äº¤äº’å¼ç™»å½•è¿‡ç¨‹ã€‚LoginWindowçš„é…ç½®æ–‡ä»¶/etc/ttysã€‚
>
>[å‚»å‚»åˆ†ä¸æ¸…ï¼šQuartz2Dã€QuartzCoreã€CoreAnimationã€CoreImageã€CoreGraphics](https://www.jianshu.com/p/397690fd4555)
>
>1. Quartz2Dæ˜¯CoreGraphicsçš„ä¸€éƒ¨åˆ†APIçš„æŠ½è±¡ï¼Œä¸æ˜¯å®é™…å­˜åœ¨çš„.framework
>2. CoreGraphicså®šä¹‰äº†é¢œè‰²ã€ä½ç½®ã€å­—ä½“ã€è·¯å¾„ã€å›¾ç‰‡ç­‰UIKitçš„å¸¸è§å±æ€§ã€‚æ˜¯æ„æˆUIKitçš„åŸºçŸ³ã€‚
>3. QuartzCoreå’ŒCoreAnimationæ˜¯é›Œé›„åŒä½“çš„åŒä¹‰è¯ã€‚
>4. CoreAnimationå®šä¹‰äº†åŠ¨ç”»ç±»æ¥å¯¹layeråšåŠ¨ç”»ï¼Œå®šä¹‰äº†layeræ¥å‘ˆç°å†…å®¹ã€‚å®šä¹‰äº†ä»¿å°„å˜æ¢æ¥åš3DåŠ¨ç”»ã€‚
>5. CoreImageå®šä¹‰äº†æ»¤é•œï¼Œæ¥å¯¹å›¾ç‰‡è¿›è¡Œé¢œè‰²è¿‡æ»¤æ··åˆç­‰æ“ä½œã€‚
>
>PSï¼šUIKité‡Œçš„UIViewï¼Œå°è£…äº†layeræ¥å‘ˆç°å†…å®¹ï¼Œå†…å®¹é€šè¿‡CoreGraphicsæ¥ç»˜åˆ¶åˆ°layerä¸Šï¼Œå…¶ä¸­ä½ç½®ã€å¤§å°ã€é¢œè‰²ï¼Œä¹Ÿéƒ½åœ¨CoreGraphicsé‡Œå®šä¹‰äº†ã€‚å¹¶ä¸”åŠ ä¸Šäº†ç”¨æˆ·äº‹ä»¶ï¼Œç”¨æ¥å“åº”ç”¨æˆ·çš„è¾“å…¥ã€ç‚¹å‡»ã€æ‹–æ‹½ç­‰æ“ä½œã€‚



### è®¾è®¡æ¨¡å¼

MVCè®¾è®¡æ¨¡å¼æ˜¯MacOSä¸€ç›´ä»¥æ¥éµå¾ªçš„è®¾è®¡æ¨¡å¼ï¼ŒåŸç†é¡¾åæ€ä¹‰ï¼šM=Model, V=View, C=Controlerï¼š![255A7B81-B69F-4365-AED9-00FCF20E1315_1_105_c](learn swift.assets/255A7B81-B69F-4365-AED9-00FCF20E1315_1_105_c.jpeg)

Modelå°±æ˜¯ä¸ºäº†å®ç°åŠŸèƒ½çš„é‚£éƒ¨åˆ†ä»£ç çš„é›†åˆï¼Œæ¯”å¦‚æŸäº›æ— å¯è§†åŒ–ç•Œé¢çš„appåªéœ€è¦è¿™éƒ¨åˆ†å°±å¯ä»¥ï¼Œç„¶ååœ¨terminalä¸­é€šè¿‡æŒ‡ä»¤è¿è¡Œã€‚è€ŒViewæ›´å®¹æ˜“ç†è§£ï¼Œå°±æ˜¯å¯è§†åŒ–ç•Œé¢çš„è®¾è®¡ï¼Œç‰¹æ®Šçš„åœ¨Appleè®¾å¤‡ä¸­ï¼Œç•Œé¢è®¾è®¡ä¸€è‡´æ˜¯è¡Œä¸šå…¸èŒƒï¼Œè€Œå®ƒä¹Ÿæä¾›äº†â€œæ˜“ç”¨â€ç»Ÿä¸€çš„æ¥å£ï¼ˆAPIï¼‰ä½¿å¾—å¼€å‘è€…ç¼–å†™çš„è½¯ä»¶èƒ½æœ‰è¾ƒä¸ºç»Ÿä¸€çš„è®¾è®¡è¯­è¨€ï¼Œè€Œä¸éš¾ç†è§£ï¼ŒModelå’ŒViewæ˜¯ç›¸å¯¹ç‹¬ç«‹çš„ï¼Œæ”¹å˜UIçš„è®¾è®¡ä¸å½±å“Modelçš„è®¡ç®—è¿‡ç¨‹å’Œè¾“å…¥è¾“å‡ºï¼Œæ¯”å¦‚å¾®ä¿¡ç™»é™†ç•Œé¢æ¢æˆåŠé€æ˜çš„æ¼‚äº®ç•Œé¢ï¼Œç”šè‡³åŠ å…¥åŠ¨ç”»ï¼Œè¿™ä¸å½±å“ä½ åªæ˜¯è¾“å…¥ä½ çš„è´¦å·å’Œå¯†ç ï¼Œäº¤ç”±Modelæ¥è”ç½‘éªŒè¯å¾®ä¿¡æœåŠ¡å™¨ï¼Œä»è€Œæ‰§è¡Œä¸‹ä¸€æ­¥æ“ä½œã€‚



### Cocoaæ¡†æ¶

è¿™å°±æ˜¯MacOSæ“ä½œç³»ç»Ÿæ ¹æ®MVCæ¨¡å¼ï¼Œé€‚ç”¨äºObjective-Cå’Œswiftè¯­è¨€è®¾è®¡çš„ä¸€æ•´å¥—ç³»ç»ŸAPIsçš„å…·ä½“å®ç°ã€‚

ç³»ç»Ÿçº§APIä¹Ÿå°±æ˜¯æ“ä½œç³»ç»Ÿä¸ºâ€œæˆ‘ä»¬â€ï¼ˆè½¯ä»¶å¼€å‘è€…ï¼‰åšçš„â€œäº‹â€ï¼Œè¿™åŒ…æ‹¬å¤ªå¤šï¼Œæ¯”å¦‚å†…å­˜ç®¡ç†ï¼ˆä½ çš„è½¯ä»¶å¦‚ä½•åŠ¨æ€ä½¿ç”¨å’Œç®¡ç†å†…å­˜ï¼‰ï¼Œæ–‡ä»¶ç³»ç»Ÿï¼ˆä½ çš„è½¯ä»¶æ€ä¹ˆå†™å…¥å’Œè¯»å–â€œæ–‡ä»¶â€ï¼‰ï¼Œå›¾å½¢ç•Œé¢ï¼ˆä½ çš„è½¯ä»¶çª—å£å¦‚ä½•è¢«éšæ„çš„ç§»åŠ¨ï¼Œä¼¸ç¼©ï¼‰ï¼Œç½‘ç»œåè®®ï¼ˆä½ çš„è½¯ä»¶å¦‚ä½•éµå®ˆäº’è”ç½‘åè®®è®¿é—®æŸä¸ªæœåŠ¡å™¨å¹¶æ”¶å‘æ•°æ®ï¼‰ç­‰ç­‰ã€‚

è€Œæ ¹æ®è¿™ä¸ªMVCæ¨¡å¼ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠè¿™äº›APIä¹Ÿæœ‰å…³äºå›¾å½¢ç•Œé¢çš„å’Œâ€”â€”â€”åœ¨cocoaæ¡†æ¶ä¸­ï¼Œè¢«ç§°ä¸ºAppKitï¼ˆIOSå¹³å°æ˜¯UIkitï¼‰ã€‚å…¶å®ä¸‰è€…å‡æ˜¯swiftå’ŒObjective-Cè¯­è¨€å¯ä»¥è°ƒç”¨çš„APIçš„é›†åˆã€‚![3BC46C46-DAED-4078-AC48-3B4051948A4C](learn swift.assets/3BC46C46-DAED-4078-AC48-3B4051948A4C.png)



### API

* ä¸€äº›åº•å±‚çš„APIï¼Œæ¯”å¦‚æ–‡ä»¶ç³»ç»Ÿï¼ŒSocketAPIï¼ŒPortsï¼Œéƒ½æ˜¯åœ¨[Foundation](https://developer.apple.com/documentation/foundation)åº“ä¸­ã€‚

* IOæ€ä¹ˆè®¿é—®ï¼ŸIOkitå°±æ˜¯ç³»ç»Ÿæ‰©å±•è¾“å…¥è¾“å‡ºçš„APIï¼Œç”¨äºå†™é©±åŠ¨ç¨‹åºï¼Œç°åœ¨è‹¹æœå¼€å‘äº†[Drivekit](https://developer.apple.com/cn/system-extensions/)æ¥æ›¿ä»£IOkitã€‚

* æ›´â€œé«˜çº§ç®€å•â€çš„ç½‘ç»œæ¥å£å‘¢ï¼Ÿ[webkit](https://developer.apple.com/documentation/webkit)æ˜¯è‹¹æœä¹°æ–­ç ”å‘å¹¶å¼€æºçš„æµè§ˆå™¨å†…æ ¸ã€‚![332A5173-97A6-4D4E-8430-727FC90B1629](learn swift.assets/332A5173-97A6-4D4E-8430-727FC90B1629.png)

  

#### AppKitï¼ŒUIkitï¼ŒSwiftUIï¼ŒMetalï¼Œæ€æ ·çš„å…³ç³»ï¼Ÿ

Metalæ˜¯å›¾å½¢APIï¼Œå®ƒæ„å»ºåœ¨GPUç¡¬ä»¶åŠæ˜¾å¡é©±åŠ¨ä¹‹ä¸Šï¼Œä½†æ˜¯å³å°†å…¨çº¿ä½¿ç”¨è‡ªç ”èŠ¯ç‰‡çš„Appleï¼ŒMetalå°±å¯ä»¥ç›´æ¥æ˜¯åœ¨è‡ªç ”çš„GPUç¡¬ä»¶æ¶æ„ä¸Šä¼˜åŒ–äº†ã€‚
GPUæˆ–è€…è¯´å›¾åƒå¤„ç†çš„æµç¨‹å°±è¦åˆ°è®¡ç®—æœºå›¾å½¢å­¦ä¸­æ¢è®¨äº†ã€‚

Metalçš„è®¾è®¡æ¦‚å¿µä¹Ÿå°±æ˜¯è®¡ç®—æœºå›¾å½¢å­¦çš„éƒ¨åˆ†ï¼Œå¯¹åº”äºç½‘ç»œå°±åƒæ˜¯å®ç°ç½‘ç»œåè®®çš„éƒ¨åˆ†ï¼Œåƒæ˜¯SocketAPIï¼Œè€ŒAppKitæ˜¯åœ¨å…¶ä¹‹ä¸Šæ„å»ºçš„ä¸“é—¨é’ˆå¯¹äºçª—å£åŠ¨ç”»ç­‰å›¾å½¢ç•Œé¢çš„è¿›ä¸€æ­¥å°è£…ï¼Œå¯¹åº”äºç½‘ç»œçš„WebKitã€‚

UIkitæ˜¯iOSç«¯ç±»ä¼¼äºMacOSçš„AppKitçš„å›¾å½¢ç•Œé¢APIï¼Œè€ŒSwiftUIæ˜¯åœ¨WWDC2019ä¸Šé¦–æ¬¡æå‡ºï¼Œåœ¨UIKitå’ŒAppKitä¹‹ä¸Šæ„å»ºçš„Appleå…¨å¹³å°å›¾å½¢ç•Œé¢APIï¼Œè€Œåä¼šé€æ¸ç æ‰å‰ä¸¤è€…ã€‚

![0A38F928-77C9-4677-A7ED-2356EB2D1FFF_1_105_c](learn swift.assets/0A38F928-77C9-4677-A7ED-2356EB2D1FFF_1_105_c.jpeg)

### å°ç»“

åœ¨å¯¹Macè½¯ç¡¬ä»¶ç³»ç»Ÿçš„æ·±å…¥äº†è§£ä¸‹ï¼Œä¹Ÿèƒ½æ¸æ¸ç†è§£ä¸ºä½•Appleå‡­å€Ÿå±ˆæŒ‡å¯æ•°çš„äº§å“çº¿å°±æˆä¸ºå¸‚å€¼ç¬¬ä¸€çš„å…¬å¸ã€‚ä»–ä»¬å¯¹è‡ªå·±äº§å“çš„æ·±å…¥ç†è§£è¶…è¿‡ä»»ä½•ä¸€å®¶ä¼ä¸šã€‚æˆ‘ä»¬æ¥ç®€å•å›é¡¾Appleäº§å“è‡ªç ”ä¹‹è·¯ï¼Œæ­¤æ—¶æˆ‘ä»¬ä¸å†åªèƒ½çœ‹åˆ°è¡¨é¢çš„å·¥ä¸šè®¾è®¡ï¼ˆè¿™å°±æ˜¯ç”µå­äº§å“çš„è„¸ï¼‰ï¼š

* GUIè®¾è®¡ï¼šè¢«è®¤ä¸ºæ˜¯Appleæˆç«‹ä¹‹åˆæ ¸å¿ƒç«äº‰åŠ›æ‰€åœ¨ï¼Œä½†è¿™æ—¶æˆ‘ä»¬è¦æ³¨æ„ï¼ŒMacç³»ç»Ÿæ˜¯åŸºäºå¼€æºUNIXï¼ŒBSDçš„ï¼Œä¹Ÿå°±æ˜¯ç³»ç»Ÿå†…æ ¸å¹¶ä¸æ˜¯Appleè‡ªç ”ï¼ŒåŒ…æ‹¬æ–‡ä»¶ç³»ç»Ÿï¼Œå’Œä¸€äº›åŸºç¡€çš„APIï¼Œæ¯”å¦‚IOKitç­‰ä¹Ÿå¹¶éè‡ªç ”ã€‚å½“æ—¶ä¸»è¦æ˜¯GUIè®¾è®¡ã€‚è€Œå¯¹äºGUIçš„å®ç°ç»†èŠ‚ï¼Œè¶³ä»¥æˆç¯‡å¤§è®ºï¼Œæ¯”å¦‚åœ†è§’è®¾è®¡ï¼Œé…è‰²é€‰æ‹©ï¼Œç³»ç»Ÿè¿‡åº¦åŠ¨ç”»ï¼Œå­—ä½“è®¾è®¡æ¸²æŸ“ï¼ŒAppleå‡ ä¹éƒ½åšåˆ°è¡Œä¸šé¡¶ç«¯ã€‚è¿™äº›æ‰æ˜¯Appleä¹‹å¤„åœ¨è½¯ä»¶æ–¹é¢çš„æ ¸å¿ƒç«äº‰åŠ›ä¹‹ä¸€ã€‚

* å·¥ä¸šè®¾è®¡ï¼šè¿™ä¹Ÿæ˜¯Appleçš„æ ¸å¿ƒç«äº‰åŠ›ä¹‹ä¸€ï¼Œè¿™ä¸€ç‚¹æ˜¯æ™®é€šæ¶ˆè´¹è€…æœ€çœ‹é‡çš„ï¼Œä¹Ÿæ˜¯å¾ˆå¤šâ€œæœç²‰â€å’Œâ€œæœé»‘â€çš„äº‰æ‰§é‡ç‚¹ä¹‹ä¸€ã€‚ä¸å¾—ä¸è¯´ï¼Œä¸€å®¶ç”µå­äº§å“å…¬å¸åƒå¥¢ä¾ˆå“å…¬å¸ä¸€æ ·æ³¨é‡å·¥ä¸šè®¾è®¡ï¼Œå·¥è‰ºï¼Œäº§å“è´¨é‡æ˜¯æå…¶å¯è´µçš„ï¼Œè¿™ä¹Ÿçš„ç¡®æ˜¯Appleçš„é­…åŠ›æ‰€åœ¨ã€‚iPhone4ï¼ŒiPhone7ï¼ŒiPad pro11ï¼ŒMacbookAirï¼ŒMacProï¼ŒiMacï¼Œè¿™äº›ç»å…¸è®¾è®¡ä¼šè½½å…¥å²å†Œã€‚ï¼ˆé¢â€¦â€¦iPhone 11proçš„ä¸‘ä¹Ÿä¼šè½½å…¥å²å†Œçš„ï¼Œå‰åˆ˜æµ·åæµ´éœ¸ï¼Œè¿™å€’è½¦å¼€çš„çŒä¸åŠé˜²ï¼‰

* Clang&LLVMç¼–è¯‘å™¨ï¼šAppleæ³¨é‡è‡ªå·±äº§å“çš„è¿è¡Œæ•ˆç‡ï¼Œè€Œç³»ç»Ÿä¸»è¦ç”¨ç±»cè¯­è¨€å†™ï¼Œè€ŒMacè½¯ä»¶å¼€å§‹æ˜¯ç”¨Objective-Cå†™ï¼ˆAPIå¯¹å…¶é€‚é…ï¼‰ï¼Œä½†GNUä¸ç»™åŠ›ï¼Œæœ€ç»ˆè¿˜æ˜¯è‡ªå·±åšå§ï¼šChris Lattnerï¼Œè‹¹æœå¼€å‘LLVMç¼–è¯‘å™¨çš„ä¸»å¯¼è€…ï¼Œäººæ‰æ˜¯ä¼ä¸šå’Œå›½å®¶å‘å±•çš„åŸææ–™å•Šï¼

* HFS/APFSæ–‡ä»¶ç³»ç»Ÿï¼šå¼€å§‹è‹¹æœä½¿ç”¨å¼€æºçš„æ–‡ä»¶ç³»ç»Ÿï¼Œä½†è¿™è¿œä¸åŠMacå‘å±•çš„æ­¥ä¼ï¼Œè€Œæ–‡ä»¶ç³»ç»Ÿä¹Ÿæ˜¯å®ç°é«˜æ•ˆç‡æ£€ç´¢çš„åº•å±‚åŸºç¡€ï¼Œè€Œç»è¿‡å‡ ä»£å‘å±•ï¼ŒAPFSæ–‡ä»¶ç³»ç»Ÿå·²ååˆ†ä¼˜å¼‚ï¼ŒAppleäº§å“çš„Spotlightæœç´¢ä¹Ÿæ˜¯ç«äº‰å¯¹æ‰‹ç›®å‰éš¾ä»¥ä¼åŠçš„ã€‚ï¼ˆå½“ç„¶ä»æ•ˆç‡ï¼Œå®‰å…¨æ€§ç­‰è§’åº¦ï¼Œå¾®è½¯çš„NTFSæ–‡ä»¶ç³»ç»Ÿä¹Ÿæ¯«ä¸é€Šè‰²ï¼‰

* iCloud/AppStoreäº‘æœåŠ¡ï¼šåˆ©ç”¨æœåŠ¡å™¨æ‰“é€šäº§å“ä¹‹é—´ï¼Œç”¨æˆ·ä¹‹é—´çš„ç•Œé™ï¼Œè¿™ä¸æ˜¯è‹¹æœé¦–åˆ›ï¼Œä½†å‡­å€Ÿå…¶å®Œæ•´çš„ç”Ÿæ€ï¼ŒiCloudå’ŒAppStoreçš„å®Œæˆåº¦å‡ ä¹æ˜¯æ— äººå‡ºå…¶å³ï¼Œè€Œè®¾å¤‡é—´äº’è”äº’é€šä¹Ÿæˆä¸ºAppleçš„æ ¸å¿ƒç«äº‰åŠ›ä¹‹ä¸€ã€‚

* Aç³»åˆ—ARMèŠ¯ç‰‡ï¼šiPhone4çš„A4å¤„ç†å™¨å¼€å¯äº†Appleçš„è¾‰ç…Œé€ èŠ¯ä¹‹è·¯ï¼Œä½†æ²¡æœ‰ä¸€ä¸ªäººèƒ½ä¸€å£åƒæˆèƒ–å­ï¼ŒA4åŸºæœ¬å°±æ˜¯ä¸‰æ˜Ÿçš„ARMæ¶æ„ï¼Œåšçš„ä¼˜åŒ–ä¹Ÿä¸å¤šã€‚Jim Kellerï¼ŒçœŸçš„å¯ä»¥è¯´æ˜¯èŠ¯ç‰‡ä¸€å“¥äº†ï¼ŒAç³»åˆ—å¤„ç†å™¨å’ŒAMDçš„ä¸¤æ¬¡è¾‰ç…Œæ¶æ„ï¼Œå…¶ä¸­å°±æœ‰æœ€è¿‘æ¥çš„zenæ¶æ„ï¼Œéƒ½æ˜¯ç”±å…¶æ“åˆ€ã€‚
ä½†åæ¥çš„ä¼˜åŒ–ä¸»è¦æ˜¯CPUï¼ŒAç³»åˆ—çš„è‡ªç ”GPUç›´åˆ°A11æ‰é—®ä¸–ï¼Œä½†åªä¼˜åŒ–äº†ä¸€å¹´ï¼ŒA12çš„GPUå°±åŠæ‰“ç«äº‰å¯¹æ‰‹äº†ã€‚ï¼ˆAç³»åˆ—çš„èŠ¯ç‰‡å°¤å…¶æ˜¯CPUä¹Ÿæ²¡æœ‰å¤ªå¤šæ¶æ„ä¸Šçš„ç¥å¥‡åˆ›æ–°ï¼Œè¶…å¤§Cacheç‹‚ç¢“æ–™ï¼Œå•æ¬¾èŠ¯ç‰‡èµ°é‡æ— æ•Œå¼ºè¡Œé™ä½æˆæœ¬ï¼Œï¼‰ç§°ä¹‹ä¸ºæ ¸å¿ƒç«äº‰åŠ›æœ‰ç‚¹ç‰µå¼ºï¼Œä½†èŠ¯ç‰‡ç»å¯¹æ˜¯æ„å»ºæ•´ä¸ªç”Ÿæ€çš„åŸºç¡€ã€‚

> èŠ¯ç‰‡è®¾è®¡æœ¬èº«ç›¸å¯¹äºè½¯ä»¶æ²¡æœ‰å¤ªå¤šâ€œå¯ç©æ€§â€ï¼Œè¿™æœ‰äº›ç±»ä¼¼åŸå¸‚è§„åˆ’è·¯çº¿çš„æ„Ÿè§‰ï¼Œå°±æ˜¯å„éƒ¨é—¨éƒ½è¦ååŒå·¥ä½œï¼Œä½†æ€»çš„æœ‰ç¦»å¾—è¿œçš„ï¼Œç›®çš„å°±æ˜¯ç»Ÿç­¹è§„åˆ’è®©æ€»ä½“æ•ˆç‡æœ€é«˜ã€‚

* Metal APIï¼šAPIæœ‰å¤§æœ‰å°ï¼Œå›¾å½¢APIå±äºå·¥ä½œé‡æ¯”è¾ƒå¤§çš„ï¼Œï¼ˆå°çš„è‚¯å®šä¸èƒ½è¯´ï¼Œå› ä¸ºè¿™å°±æ˜¯è½¯ä»¶å…¬å¸åˆ†å†…å·¥ä½œï¼Œå›¾å½¢å¤„ç†å¯¹ç°ä»£è®¡ç®—æœºå¤ªé‡è¦ï¼Œæ‰€ä»¥GUIä¹Ÿå•ç‹¬è¯´äº†ï¼‰æ‰€ä»¥è¿˜å¯ä»¥å•ç‹¬æ‹¿å‡ºæ¥è¯´ä¸€è¯´ï¼šè¿™ä¹Ÿå±äºæ“ä½œç³»ç»Ÿçš„ä¸€éƒ¨åˆ†ï¼Œæ˜¯è´Ÿè´£å°è£…GPUå¤„ç†å›¾å½¢çš„ä»£ç é›†ï¼Œè€Œåœ¨å¾ˆä¹…ä¸€æ®µæ—¶é—´å†…ï¼ŒAppleä½¿ç”¨OpenGLä½œä¸ºå…¶å›¾å½¢APIï¼Œè€Œéš”å£å®¶å¾®è½¯æ—©å°±ç ”å‘äº†è‡ªå·±çš„DirectXï¼ŒåŠ ä¸Šå…¶å¯¹æ¸¸æˆçš„å¸ƒå±€ï¼ŒWindowsæ‰“æ¸¸æˆç”©å¼€Macä¸€ä¸‡æ¡è¡—ã€‚è€Œå€ŸåŠ©Metal+AppleAcade+ARMç‰ˆMacä¸‰æ¿æ–§ï¼Œè½»æ¾ç§»æ¤IOSåˆ›é€ çš„æ¸¸æˆï¼Œæ¥ä¸‹æ¥å‡ å¹´ï¼ŒMacå¯èƒ½åœ¨æ¸¸æˆä¸Šä¼šæœ‰æ‰€è¿›æ­¥ã€‚AppleæŠŠMetalå†…æ ¸å¼€æºï¼ˆå…¬å¼€æºä»£ç ï¼‰äº†ã€‚

* Swift è¯­è¨€ï¼šè¿™è°ˆä¸ä¸Šæ˜¯åƒcä¸€æ ·å¤šä¹ˆåˆ’æ—¶ä»£çš„è¯­è¨€ï¼Œä½†æ˜¯å®ƒä¹Ÿåƒä¼—å¤šç°ä»£ç¼–ç¨‹è¯­è¨€ä¸€æ ·ï¼Œç»§æ‰¿å‘å±•äº†ä¼—å¤šè¯­è¨€çš„ä¼˜ç‚¹ï¼Œæ¯”å¦‚è‡ªåŠ¨å†…å­˜ç®¡ç†ï¼Œé—­åŒ…ï¼Œè¿ç®—ç¬¦é‡è½½â€¦â€¦æ¯”èµ·Objective-Cè¿˜æ˜¯æ˜¾è‘—æé«˜Appleç”Ÿæ€åº”ç”¨å¼€å‘é€Ÿåº¦çš„ã€‚æä¸€å¥ï¼Œè¿˜æ˜¯è¿™å“¥ä»¬â€”â€”Chris Lattnerâ€”â€”å‘æ˜çš„ï¼Œä¸”åæ¥AppleæŠŠå®ƒå¼€æºï¼ˆå…¬å¼€æºä»£ç ï¼‰äº†ã€‚

* è¾ƒä¸ºå‡ºè‰²çš„åŸç”Ÿappï¼šAppleåœ°å›¾è¢«åæ§½å¤šæ¬¡ï¼ŒXcodeä¹Ÿè§ä»è§æ™ºï¼Œä½†Appleçš„ç¡®è¿˜æ˜¯è®¾è®¡äº†å¾ˆå¤šå‡ºè‰²çš„åŸç”Ÿappï¼š
å¤©æ°”ï¼ˆç®€çº¦ç¯‡è®²çš„ç•Œé¢ï¼Œå®æ—¶æ›´æ–°çš„åŠ¨ç”»èƒŒæ™¯å’Œå½“å‰å¤©æ°”ä¸€è‡´æ˜¯çœŸçš„amazingï¼‰
App Storeï¼ˆä¸ç”¨å¤šè¯´ï¼Œä¸–ä¸Šåªæœ‰ä¸€ä¸ªApp Storeï¼‰
ç›¸å†Œï¼ˆios13ä¹‹åï¼Œä¸å†åªæœ‰æ¼‚äº®çš„å¤–è§‚ï¼Œä¿®å›¾ç­‰åŠŸèƒ½æ€§ä¹Ÿä¸é”™ï¼Œå†æœ‰live photoå’ŒiCloudç›¸å†ŒåŠ æŒï¼Œä¸é€ŠäºGoogleç›¸å†Œäº†å§ï¼Œå†è€…ï¼Œä½ æƒ³åœ¨windowsä¸Šçœ‹ç…§ç‰‡ï¼Ÿï¼‰
å›¾ä¹¦/previewï¼ˆiOSå…¶å®ä¹Ÿæ²¡å•¥ï¼Œæ›¿ä»£å“ä¸€å †ï¼Œä½†æ˜¯Macç«¯ä¸€å¯¹æ¯”pcï¼Œå•¥éƒ½èƒ½é¢„è§ˆï¼Œæ˜¯çœŸçš„èˆ’æœï¼‰
è‚¡å¸‚ï¼ˆä¸–ä¸Šå¥½åƒä¹Ÿåªæœ‰ä¸€ä¸ªèƒ½çœ‹çš„è‚¡ç¥¨appï¼‰Safariï¼ˆå¯èƒ½æ²¡æœ‰ChromeåŠŸèƒ½å¤šï¼Œä½†MacOS big surä¹‹åå¤§æ›´æ–°äº†ï¼Œç®€çº¦ï¼ŒåŒæ­¥ï¼Œéšç§ï¼Œè¿˜æœ‰è‡ªåŠ¨å¡«å……å¯†ç ï¼ŒBy the way, æµè§ˆå™¨å†…æ ¸WebKit æœ€åˆæ˜¯Appleä¹°æ¥å¼€å‘çš„ï¼Œåæ¥æŠŠå®ƒå¼€æºäº†ï¼ŒChromeå†…æ ¸ä¹Ÿæ˜¯åœ¨æ­¤åŸºç¡€æ”¹è¿›çš„ï¼‰
åœ°å›¾ï¼ˆåŠŸèƒ½æ˜¯æŒºåƒåœ¾çš„ï¼Œä½†ç•Œé¢è®¾è®¡æˆ‘è§‰å¾—å›½äº§åº”ç”¨çœŸçš„åº”è¯¥å­¦ä¹ å­¦ä¹ ï¼‰
è¿˜æœ‰æ—¥å†æ—¶é’Ÿä¿¡æ¯ç­‰ï¼Œä¹Ÿéƒ½æœ‰ä¸å°‘ä¼˜ç‚¹ï¼Œæ€»çš„æ¥è¯´ï¼ŒAppleåŸç”Ÿçš„appï¼Œä¸ä»…æ˜¯èƒ½ç”¨ï¼Œä¸å°‘æŒºå¥½ç”¨ã€‚å½“ç„¶è¿™éƒ¨åˆ†æœ‰äº›é‡å¤ï¼Œå› ä¸ºä¸€éƒ¨åˆ†æ˜¯GUIçš„ï¼Œä¸€éƒ¨åˆ†æ˜¯iCloudçš„ã€‚

* æ¥å£ï¼šç¡¬ä»¶ä¸åªæœ‰èŠ¯ç‰‡ï¼Œå†…å­˜ï¼Œç¡¬ç›˜ï¼Œå±å¹•ï¼Œæ¥å£éƒ½æ˜¯é‡è¦ç»„æˆã€‚è€Œè¿™å°±ä¸å¾—ä¸æä¸‰æ˜Ÿçš„ç‰›é€¼äº†ï¼Œå†…å­˜ç¡¬ç›˜å±å¹•ä¸€æŠŠæŠ“ï¼Œä½ ä¹°è°å®¶éƒ½æ˜¯æˆ‘æŒ£é’±ã€‚
ç›®å‰ä¸»æµè¶‹åŠ¿æ¥å£æ ‡å‡†é›·ç”µ3ï¼ˆä½¿ç”¨ç‰©ç†æ¥å£USBTypeCï¼Œå…·ä½“æ¥å£å¯ä»¥çœ‹æˆ‘è®²æ¥å£ä¸€ç¯‡ï¼‰ï¼Œintelæ˜¯åè®®ä¸»è¦åˆ¶å®šè€…ï¼ˆintelåœ¨æ¥å£ä¸Šä¹Ÿä¸æŒ¤ç‰™è†å˜›ï¼‰ï¼ŒAppleä¹Ÿå‚ä¸åˆ¶å®šå¹¶åŠ›æ¨ã€‚
lightningæ¥å£å¹¶iOSè®¾å¤‡ç‹¬å ï¼ˆè¢«éª‚é å–çº¿å‘å®¶ï¼‰ã€‚å¹³å¿ƒè€Œè®ºåœ¨TypeCå‡ºä¸–ä¹‹å‰ï¼Œlightningæ¥å£éš¾é“ä¸æ˜¯å¥½å¤ªå¤šäº†å—â€”â€”å¯¹ç§°éšä¾¿æ’ï¼Œä½“ç§¯å°ã€‚
è¿˜æœ‰å‡ å¹´å‰MacBookçš„MagSafeï¼ˆå¯æƒœä¸å¤è¿”äº†ï¼‰ï¼Œapple watchçš„æ— çº¿å……ç”µå™¨ï¼Œéƒ½æ˜¯amazingçš„è®¾è®¡ã€‚

* è½¯ç¡¬ä»¶æŠ€æœ¯çš„æŠ€æœ¯åˆ›æ–°ï¼šå¤šç‚¹è§¦æ§ï¼ˆé˜²è¯¯è§¦ç®—æ³•ï¼‰ï¼ŒæŒ‡çº¹è§£é”ï¼ˆæŒ‡çº¹è¯†åˆ«ç®—æ³•ï¼‰ï¼ŒHDRç…§ç‰‡ï¼ˆISPï¼‰ï¼Œ3DTouchï¼Œ Face IDï¼ˆäººè„¸è¯†åˆ«ç®—æ³•ï¼Œä¸åŒäºæ™®é€šæœºå™¨å­¦ä¹ äººè„¸è¯†åˆ«çš„ç®—æ³•ï¼‰ä¸”åˆ˜æµ·è™½ä¸‘ï¼Œæœ‰æ—¶äººè„¸ä¸å¦‚æŒ‡çº¹æ–¹ä¾¿ï¼Œä½†æŠ€æœ¯æœ¬èº«æ²¡é”™ï¼Œå¾ˆå®Œå–„ï¼Œç§°å¾—ä¸Šç§‘æŠ€å²ä¸Šçš„ä¸€å¤§å‘æ˜ã€‚

* Carplay å’ŒHome Kit ä¸¤å¤§APIï¼šè¿™ä¸¤ä¸ªAPIçš„å¼€å‘ï¼Œå…¶å®æœ‰äº›éå¸¸é‡è¦çš„æ„ä¹‰ï¼Œæ˜¯è®²è®¡ç®—æœºäº§ä¸šçš„åˆ›é€ åŠ›è¾å°„åˆ°ä¼ ç»Ÿè¡Œä¸šï¼Œå¸¦åŠ¨äº§ä¸šè”åŠ¨å‘å±•çš„ä¸€å¤§æ­¥ï¼Œä¼ ç»Ÿäº§ä¸šæ™ºèƒ½åŒ–ï¼Œä¸‡ç‰©äº’è”å…¶å®å‘å±•åœ¨5Gä¹‹å‰ï¼ˆåŒ…æ‹¬å¤§æ•°æ®ï¼Œäº‘è®¡ç®—ï¼Œè¯´ä»€ä¹ˆ5Gæ˜¯å…¶åŸºç¡€çš„éƒ½æ˜¯å¿½æ‚ äººï¼Œé—´æ¥åˆ¶é€ è¡Œä¸šæ³¡æ²«çš„ï¼Œ5Gåªèƒ½è¯´æ˜¯åŠ é€Ÿå¹¶æ›´å¥½çš„å®ç°ä¸Šè¿°4ä¸ªé¢†åŸŸç½¢äº†ï¼‰

* è¾…åŠ©åŠŸèƒ½ï¼šVioceOver å¾ˆå¥½ç”¨ï¼Œè™½ç„¶æˆ‘ä¸æ˜¯æ®‹ç–¾äººã€‚è°·æ­Œåšçš„ä¹Ÿä¸é”™ï¼Œè¿™ç‚¹ä¸æ˜¯æƒ…æ€€ï¼Œç¤¾ä¼šä¸Šæ€»æœ‰å¼±åŠ¿ç¾¤ä½“ï¼Œæœ‰ç‚¹åƒæ˜¯æ°´æ»´ç­¹ï¼Œç»™æœ‰å›°éš¾çš„äººåšç‚¹ä¸¾æ‰‹ä¹‹åŠ³ï¼Œè¿™ä¸–ç•Œå¯èƒ½å°±æ›´å¥½äº†ï¼Œæ›´å¥½çš„ä¸–ç•Œè‡ªå·±ä¹Ÿäº«å—å…¶ä¸­ã€‚

* å¹¿å‘Šï¼šè¿™ä¸æ˜¯ä¸€ä¸ªæŠ€æœ¯å…¬å¸å¹²çš„äº‹å„¿ï¼Œä½†æ˜¯Appleå‡ ä¹æ˜¯æœ€ä¼šåšå¹¿å‘Šçš„æŠ€æœ¯å…¬å¸ï¼ˆå®Œå…¨ä¸ºäº†ä¸¥è°¨ï¼Œçœ‹å®ƒå¹¿å‘Šï¼ŒåŸºæœ¬ä¸Šå°±è®¤ä¸ºå®ƒæ˜¯ä¸ªå¹¿å‘Šå…¬å¸ï¼‰è¿™ä¹Ÿä¸æ— é“ç†ï¼Œå› ä¸ºGUIåˆ°å·¥ä¸šè®¾è®¡ï¼ŒAppleçš„å®¡ç¾ä¸€ç›´æ˜¯ä¸šç•Œæ ‡æ†ï¼Œå¹¿å‘Šè‡ªç„¶ä¹Ÿæ˜¯å®¡ç¾é—®é¢˜ã€‚ï¼ˆä¹°Appleäº§å“ä¸€å®šè¦çœ‹çœ‹å®ƒçš„å¹¿å‘Šï¼Œå°±ç®—ä½ ä¸æ¬£èµï¼Œæƒ³æƒ³ä½ èŠ±çš„é’±å¤šå°‘ç»™å®ƒæ‹å¹¿å‘Šäº†ï¼Ÿä¸çœ‹ä¸äºå—ï¼‰

è¯´åˆ°è¿™é‡Œæˆ‘å°±æƒ³åˆ°ï¼šæ¯”å¦‚æˆ‘ä¸æ®‹ç–¾ï¼Œé‚£ä¹ˆAppleå¼€å‘è¾…åŠ©åŠŸèƒ½è¿™éƒ¨åˆ†é’±ï¼Œæˆ‘å°±ç›¸å½“äºæçš„ï¼Œå› ä¸ºæˆ‘ä»ä¸ç”¨è¿™éƒ¨åˆ†åŠŸèƒ½ï¼Œä½†ä¸€æƒ³äººå®¶æ˜¯æ®‹ç–¾äººï¼Œä¸å®¹æ˜“ï¼Œå°±æç»™ä»–ä»¬å§ã€‚
ä¸æ­¤ç±»æ¨ï¼šAppleä¸ºå…¶äº§å“åšäº†è¿™ä¹ˆå¤šï¼Œå¦‚æœä½ ä¸ç”¨iCloudï¼Œé‚£Appleç”¨æ¥å¼€å‘iCloud çš„è¿™éƒ¨åˆ†ï¼Œä½ å°±æç»™äº†ç”¨è¿™ä¸ªåŠŸèƒ½çš„äººã€‚ï¼ˆå› ä¸ºç”±äºä½ çš„è´­ä¹°ï¼Œé”€é‡å¢åŠ ï¼Œäº§é‡å¢åŠ ï¼Œæˆæœ¬ä¸‹é™ï¼Œç›¸å½“äºä½ ç˜«äº†è¿™éƒ¨åˆ†æˆæœ¬ï¼‰
åŒç†æ‰€æœ‰å•†å“å‡æ˜¯å¦‚æ­¤ã€‚ï¼ˆå› ä¸ºè¿™å°±æ˜¯åŠ³åŠ¨äº¤æ¢çš„è¿‡ç¨‹ï¼Œåæ­£ä½ åŠ³åŠ¨äº†ï¼Œæ‹¿äº†å·¥èµ„ï¼ŒèŠ±äº†ç»“æœæ²¡æœ‰è·å¾—åˆ«äººçš„åŠ³åŠ¨æˆæœï¼Œåè€Œæ›¿åˆ«äººåˆ†æ‘Šäº†æˆæœ¬ï¼‰ä¸€ç›´ç±»æ¨ï¼šè¯·é—®ä½ æ‹¥æœ‰çš„æ‰€æœ‰å•†å“ï¼Œæäº†ç™¾åˆ†ä¹‹å¤šå°‘å‘¢ï¼Ÿè€Œä½ çš„åŠ³åŠ¨ï¼Œåˆæœ‰ç™¾åˆ†ä¹‹å¤šå°‘è½¬åŒ–æˆäº†åŠ³åŠ¨äº§ç‰©å‘¢ï¼Ÿ



## LLVMä¸Swift

[2015 LLVM Developersâ€™ Meeting: Joseph Groff & Chris Lattner â€œSwift's High-Level IR: A Case Study..." - YouTube](https://www.youtube.com/watch?v=Ntj8ab-5cvE)ï¼šè¿™æ˜¯ä¸€ä¸ªYouTubeè®²LLVMä¸­Swiftå®ç°çš„è§†é¢‘ã€‚





## swift 

* [ä¸­æ–‡æ–‡æ¡£](https://www.runoob.com/manual/gitbook/swift5/source/_book/chapter2/04_Collection_Types.html)
* [å®˜æ–¹æ–‡æ¡£](https://docs.swift.org/swift-book/LanguageGuide/CollectionTypes.html)



### ç±»å‹



> å¼ºç±»å‹ï¼šå¦‚æœä¸€é—¨è¯­è¨€å€¾å‘äºä¸å¯¹å˜é‡çš„ç±»å‹åšéšå¼è½¬æ¢ï¼Œé‚£æˆ‘ä»¬å°†å…¶ç§°ä¹‹ä¸ºå¼ºç±»å‹è¯­è¨€
>
> å¼±ç±»å‹ï¼šç›¸åï¼Œå¦‚æœä¸€é—¨è¯­è¨€å€¾å‘äºå¯¹å˜é‡çš„ç±»å‹åšéšå¼è½¬æ¢ï¼Œé‚£æˆ‘ä»¬åˆ™ç§°ä¹‹ä¸ºå¼±ç±»å‹è¯­è¨€

C++ã€Swiftã€Javaã€pythonéƒ½å±äºå¼ºç±»å‹ï¼ˆpythonè™½ç„¶æœ‰æ—¶å­˜åœ¨ç±»å‹è½¬æ¢ï¼Œä½†æ˜¯å€¾å‘äºä¸è½¬æ¢ï¼‰ï¼Œè€ŒJavaSciptç­‰å±äºå¼±ç±»å‹ã€‚



> åŠ¨æ€ç±»å‹ï¼šå¦‚æœä¸€é—¨è¯­è¨€å¯ä»¥åœ¨è¿è¡Œæ—¶æ”¹å˜å˜é‡çš„ç±»å‹ï¼Œé‚£æˆ‘ä»¬ç§°ä¹‹ä¸ºåŠ¨æ€ç±»å‹è¯­è¨€
>
> é™æ€ç±»å‹ï¼šç›¸åï¼Œå¦‚æœä¸€é—¨è¯­è¨€ä¸å¯ä»¥åœ¨è¿è¡Œæ—¶æ”¹å˜å˜é‡çš„ç±»å‹ï¼Œåˆ™ç§°ä¹‹ä¸ºé™æ€ç±»å‹è¯­è¨€

pythonå±äºåŠ¨æ€ç±»å‹ï¼Œè€ŒC++ã€Swiftã€Javaå±äºé™æ€ç±»å‹ã€‚å…³äºåŠ¨æ€ç±»å‹å°±å°è¯äº†é‚£å¥è¯ï¼šä¸€åˆ‡çš†å¯¹è±¡ã€‚

***ï¼Ÿå› ä¸ºåªæœ‰æŠŠè®¸å¤šåŸºæœ¬ç±»å‹å®šä¹‰ä¸ºç±»ï¼Œå®ƒæ‰å¯ä»¥è¿è¡Œæ—¶ç¡®å®šï¼Ÿ***



> å€¼ç±»å‹ï¼šä¼ é€’å‚æ•°æ—¶æ˜¯é€šè¿‡å¤åˆ¶è¯¥å€¼ä¼ é€’ã€‚
>
> å¼•ç”¨ç±»å‹ï¼šé€šè¿‡å¼•ç”¨æ¥æŸ¥æ‰¾ä¼ é€’è¯¥å‚æ•°ï¼Œä¹Ÿå°±æ˜¯æŒ‡é’ˆã€‚

å€¼ç±»å‹ã€å¼•ç”¨ç±»å‹ä¸ä¸Šè¿°ä¸åŒï¼Œä¸Šè¿°è¯´çš„æ›´åƒæ˜¯è¯­è¨€ï¼Œè€Œè¿™é‡Œè¦è¯´çš„ï¼Œæ¯ä¸ªè¯­è¨€å‡ ä¹éƒ½æœ‰å€¼ç±»å‹å’Œå¼•ç”¨ç±»å‹ï¼Œä¸‹é¢æ¥å…·ä½“è®²è¿°ã€‚ 



#### å€¼ç±»å‹ä¸å¼•ç”¨ç±»å‹

å‡ ä¹æ¯ç§è¯­è¨€éƒ½å­˜åœ¨è¿™ç§é—®é¢˜ã€‚æœ‰ä¸ªæ¨¡ç³Šçš„æ¦‚å¿µï¼Œå°±æ˜¯å€¼ç±»å‹ä¸€èˆ¬å­˜åœ¨æ ˆä¸­ï¼ˆä½†ä¸ä»…é™äºæ ˆï¼‰ï¼Œè€Œ[å¼•ç”¨ç±»å‹åªèƒ½æ”¾åœ¨å †ä¸­](https://blog.csdn.net/nicepainkiller/article/details/78213694)ï¼ˆ**è¿™é‡Œæœ‰é—®é¢˜ï¼Œå°æ•°ç»„ä¸åº”è¯¥æ˜¯åœ¨æ ˆä¸Šå—ï¼Œä¸ºå•¥æ˜¯å¼•ç”¨ç±»å‹ï¼Ÿ**ï¼‰ã€‚å…¶ä¸­æ ˆæ˜¯ä¸ªè¾ƒå¤æ‚çš„å†å²é—®é¢˜ã€‚



> æ¯”å¦‚C/C++çš„æ ˆå®ç°ï¼Œæ˜¯å¾—åˆ°äº†CPUçš„åŸºæœ¬æ”¯æŒçš„ï¼šä¸€æ–¹é¢ï¼ŒCPUå°±æœ‰ç›¸åº”çš„æ ˆæŒ‡é’ˆå¯„å­˜å™¨ï¼Œæ‰€ä»¥è¿™æ˜¯ç›´æ¥ç»‘å®šåˆ°CPUæŒ‡ä»¤ä¸Šçš„ï¼Œæ‰§è¡Œã€å–å€¼éƒ½å¿«é€Ÿçš„å¤šï¼›å¦ä¸€æ–¹é¢ï¼ŒStackçš„æœ€é¡¶ç«¯ä¸€èˆ¬ä¼šç•™å­˜åœ¨CPU registerså’Œ cacheä¸­ï¼Œé‡åˆ°é¢‘ç¹ä½†æ˜¯å±‚æ¬¡ä¸å¤šçš„å‡½æ•°è°ƒç”¨ï¼Œå¯ä»¥åˆ©ç”¨é«˜é€Ÿ cacheï¼ˆæ ˆä¸€èˆ¬æ˜¯åœ¨ä¸€çº§ç¼“å­˜ä¸­åšç¼“å­˜çš„, è€Œå †åˆ™æ˜¯åœ¨äºŒçº§ç¼“å­˜ä¸­ï¼Œ**è¿™ä¸ªè¡¨è¿°å¯èƒ½æœ‰é—®é¢˜**ï¼‰ï¼Œè€Œå¤§å—çš„å†…å­˜ä¼šç ´åè¿™ç§ä¼˜åŒ–ã€‚
>
> æ¯”å¦‚swiftè¯­è¨€ä¸­, ä¸‰ä¸ªå­—åŠä»¥å†…çš„structç»“æ„, å¯ä»¥åœ¨æ ˆä¸­å†…è”, ä»è€Œè¾¾åˆ°æ›´å¿«çš„å¤„ç†é€Ÿåº¦ã€‚

è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆå€¼ç±»å‹ä¸€èˆ¬å­˜åœ¨æ ˆä¸Šï¼Œä¸”ä¸ºå ç”¨å†…å­˜å°çš„æ•°æ®ã€‚ä½†æ˜¯åƒpythonè¿™ç§å€¼ç±»å‹ï¼Œå³ä½¿ä¹Ÿæ˜¯åœ¨æ ˆä¸Šï¼Œå®ƒçš„æ ˆå¹¶æ²¡æœ‰ç›´æ¥åˆ©ç”¨ä¸ŠCPUæŒ‡ä»¤é›†ï¼Œè€Œæ˜¯ç¼–è¯‘å™¨é ç®—æ³•å®ç°äº†è¿™ç§å…ˆå…¥åå‡ºçš„æ•°æ®ç»“æ„ç½¢äº†ï¼Œpythonä¸€å¼€å§‹å°±ç”³è¯·äº†ä¸€å¤§å—å †å†…å­˜æ¥è¿è¡Œæ—¶ç¡®å®šå¤§éƒ¨åˆ†å·¥ä½œï¼Œè¿™ä¹Ÿæ˜¯pythonè¢«ç§°ä¸ºåŠ¨æ€è¯­è¨€çš„åŸå› ä¹‹ä¸€ï¼Œæ›´æ˜¯æ•ˆç‡ä½çš„é‡è¦åŸå› ä¹‹ä¸€ã€‚

å¯¹äºSwiftï¼Œæ•°å­—ã€ç»“æ„ç­‰æ˜¯å€¼ç±»å‹ï¼ˆ**ä½†ä¸ä¸€å®šè¢«åˆ†é…åœ¨æ ˆä¸Š**ï¼‰ï¼Œæ•°ç»„ã€ç±»æ˜¯å¼•ç”¨ç±»å‹ã€‚å¯¹äºå¤šæ•°è¯­è¨€ï¼Œ**æœ‰äº‰è®®çš„ä¸€èˆ¬éƒ½åœ¨æ•°ç»„ï¼ˆArray/Listï¼‰ä¸Š**ï¼Œå› ä¸ºæ•°ç»„ç®—æ˜¯åŸºæœ¬ç±»å‹ï¼Œä½†å¯å¤§å¯å°ï¼Œæ¯”å¦‚C++ä¸­ï¼Œé»˜è®¤å£°æ˜çš„æ•°ç»„æ˜¯åœ¨æ ˆä¸Šï¼Œä½¿ç”¨newç­‰ç”³è¯·çš„æ•°ç»„æ˜¯åœ¨å †ä¸Šï¼Œè¿™æ—¶å¾€å¾€æ˜¯æ•°ç»„æ¯”è¾ƒå¤§ã€‚



 **Qï¼šç»“æ„æ˜¯å€¼ç±»å‹ï¼Œå…¶å¯ä»¥åŒ…å«å‡½æ•°å’Œæ•°ç»„ï¼Œä½†æ˜¯æ•°ç»„ã€å‡½æ•°ç¡®æ˜¯å¼•ç”¨ç±»å‹ï¼Ÿ**

Aï¼šç»“æ„ä¸­å£°æ˜æ•°ç»„å’Œå‡½æ•°ï¼Œæ‰€ä»¥åŒæ ·åœ°ï¼Œä¼ é€’ç»“æ„æ—¶ï¼Œå…¶â€æ‰€æœ‰â€œæ•°æ®ï¼ˆåŒ…æ‹¬æ•°ç»„ã€å‡½æ•°çš„å¼•ç”¨/æŒ‡é’ˆï¼Œä½†ä¸åŒ…æ‹¬å…¶æœ¬èº«ï¼‰è¢«æ‹·è´ï¼Œæ‰€ä»¥ä¸Šè¿°é—®é¢˜ä¸å†²çªã€‚è€Œä¸”ï¼Œå‡½æ•°



#### å‡½æ•°ä¹Ÿæ˜¯ç±»å‹



```swift
//ä¸‹é¢è¿™ä¸ªå‡½æ•°çš„ç±»å‹æ˜¯ (Int, Int) -> Intï¼Œå¯ä»¥è§£è¯»ä¸º:â€œè¿™ä¸ªå‡½æ•°ç±»å‹æœ‰ä¸¤ä¸ª Int å‹çš„å‚æ•°å¹¶è¿”å›ä¸€ä¸ª Int å‹çš„å€¼â€ã€‚
func addTwoInts(_ a: Int, _ b: Int) -> Int {
    return a + b
}

//â€å®šä¹‰ä¸€ä¸ªå«åš mathFunction çš„å˜é‡ï¼Œç±»å‹æ˜¯â€˜ä¸€ä¸ªæœ‰ä¸¤ä¸ª Int å‹çš„å‚æ•°å¹¶è¿”å›ä¸€ä¸ª Int å‹çš„å€¼çš„å‡½æ•°â€™ï¼Œå¹¶è®©è¿™ä¸ªæ–°å˜é‡æŒ‡å‘ addTwoInts å‡½æ•°â€ã€‚éœ€è¦å…ˆå®šä¹‰è¿™ä¸ªå‡½æ•°
var mathFunction: (Int, Int) -> Int = addTwoInts
```



è¿™åŒæ ·æœ‰ä¸Šæ–‡ä¸­å€¼ç±»å‹å’Œå¼•ç”¨ç±»å‹çš„é—®é¢˜ã€‚

**Qï¼šå‡½æ•°é‡Œçš„å¾ˆå¤šè‡ªåŠ¨å˜é‡æ˜¯å­˜åœ¨æ ˆé‡Œçš„ï¼Œå‡½æ•°æœ¬èº«åº”è¯¥è¢«ä½œä¸ºä¸€ä¸ªæ•´ä½“å§ï¼Œå®ƒæ˜¯åœ¨å †ä¸­è¿˜æ˜¯åœ¨æ ˆä¸­ï¼Ÿ**

Aï¼šè¿™ä¸ªé—®é¢˜è¯´æ˜æœ‰ä¸ªåŸºæœ¬é—®é¢˜ä¸æ¸…æ¥šâ€”â€”**[å‡½æ•°è°ƒç”¨è¿‡ç¨‹](https://www.jianshu.com/p/ea9fc7d2393d)**ã€‚

> **ä¸‹é¢æ˜¯æˆ‘ä¸ªäººçš„çŒœæƒ³ï¼Œå¹¶ä¸å®Œå…¨å¯¹ï¼Œè¿˜æœ‰å¾…éªŒè¯ã€‚**
>
> å‡½æ•°åæœ¬èº«æ˜¯å¼•ç”¨æ²¡é”™ï¼Œä½†æ˜¯å‡½æ•°åˆæ˜¯ä¸€ä¸ªç‰¹æ®Šçš„å­˜åœ¨ï¼Œå› ä¸ºå‡½æ•°æ˜¯æœ€å°çš„ä»£ç çš„é›†åˆï¼Œä¹Ÿå°±æ„å‘³ç€å‡½æ•°è°ƒç”¨æœ¬èº«å°±æ˜¯å‹å…¥æ ˆçš„è¿‡ç¨‹ï¼Œæ‰€ä»¥å½“æŠŠä¸€ä¸ªå‡½æ•°å‹å…¥æ ˆï¼Œå°±æ˜¯å°†å…¶æ‰€åœ¨çš„æ‰€æœ‰æŒ‡ä»¤å’Œæ•°æ®å‹å…¥æ ˆï¼Œä¸è¿‡è¿™å…¶ä¸­æœ‰ä¸€éƒ¨åˆ†æ˜¯æŒ‡é’ˆï¼Œä¹Ÿå°±æ˜¯æ‰€è°“çš„å¼•ç”¨å˜é‡ï¼ŒåŒ…æ‹¬å¤§æ•°ç»„ã€å¯¹è±¡å’Œå‡½æ•°è°ƒç”¨ã€‚å› ä¸ºå‡½æ•°æ¯”è¾ƒç‰¹æ®Šï¼Œæ‰€ä»¥åœ¨æ ˆä¸­æ‰§è¡Œå‡½æ•°è°ƒç”¨æ—¶ï¼Œå°±æ˜¯ä¸€ä¸ªå¯»å€çš„è¿‡ç¨‹ï¼Œæ‰¾åˆ°æ–°çš„å‡½æ•°ï¼ŒæŠŠæ–°çš„å‡½æ•°å‹å…¥æ ˆé‡å¤ä¸Šè¿°æ­¥éª¤ï¼Œç›´åˆ°å‡½æ•°ä¸­æ²¡æœ‰å‡½æ•°è°ƒç”¨ï¼Œè¯¥å‡½æ•°æ‰§è¡Œå®Œæ¯•ï¼Œæ ˆç©ºé—´æ¸…ç©ºï¼ˆæ ‡è®°ä¸ºå¯ä»¥å†™å…¥ï¼‰ã€‚
>
> æ‰€è°“æ ˆï¼Œæ˜¯ä¸ºäº†è®©å¤šæ•°â€œè€è€å®å®â€é¡ºåºæ‰§è¡Œçš„æŒ‡ä»¤æ‰§è¡Œï¼ˆå‡½æ•°æœ¬èº«å°±æ˜¯é¡ºåºæ‰§è¡Œï¼‰ï¼Œä½†ç”±äºå®é™…å¯„å­˜å™¨ç©ºé—´æœ‰é™ï¼Œæœ‰äº›æŒ‡ä»¤/æ•°æ®ï¼ˆå¦‚å‡½æ•°è°ƒç”¨ï¼Œå£°æ˜å¯¹è±¡ç­‰å…¶å®æ˜¯ä¸€å †å…¶ä»–éœ€è¦è·³è½¬åˆ°å¤§å—å†…å­˜/ç¼“å­˜çš„æŒ‡ä»¤ï¼‰å°±éœ€è¦ä¸­æ–­æ¥å¯»å€ç­‰ï¼Œæ‰€ä»¥æ‰æœ‰äº†å †ã€‚



#### å¯é€‰ç±»å‹ï¼ˆOptionalï¼‰

> **èŠ‚é€‰è‡ªï¼š[ç‹å åšå®¢](http://www.yinwang.org/blog-cn/2015/11/21/programming-philosophy)**
>
> ä½¿ç”¨Optionalç±»å‹ã€‚Java 8å’ŒSwiftä¹‹ç±»çš„è¯­è¨€ï¼Œæä¾›äº†ä¸€ç§å«Optionalçš„ç±»å‹ã€‚æ­£ç¡®çš„ä½¿ç”¨è¿™ç§ç±»å‹ï¼Œå¯ä»¥åœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šé¿å…nullçš„é—®é¢˜ã€‚nullæŒ‡é’ˆçš„é—®é¢˜ä¹‹æ‰€ä»¥å­˜åœ¨ï¼Œæ˜¯å› ä¸ºä½ å¯ä»¥åœ¨æ²¡æœ‰â€œæ£€æŸ¥â€nullçš„æƒ…å†µä¸‹ï¼Œâ€œè®¿é—®â€å¯¹è±¡çš„æˆå‘˜ã€‚
>
> Optionalç±»å‹çš„è®¾è®¡åŸç†ï¼Œå°±æ˜¯æŠŠâ€œæ£€æŸ¥â€å’Œâ€œè®¿é—®â€è¿™ä¸¤ä¸ªæ“ä½œåˆäºŒä¸ºä¸€ï¼Œæˆä¸ºä¸€ä¸ªâ€œåŸå­æ“ä½œâ€ã€‚è¿™æ ·ä½ æ²¡æ³•åªè®¿é—®ï¼Œè€Œä¸è¿›è¡Œæ£€æŸ¥ã€‚è¿™ç§åšæ³•å…¶å®æ˜¯MLï¼ŒHaskellç­‰è¯­è¨€é‡Œçš„æ¨¡å¼åŒ¹é…ï¼ˆpattern matchingï¼‰çš„ä¸€ä¸ªç‰¹ä¾‹ã€‚æ¨¡å¼åŒ¹é…ä½¿å¾—ç±»å‹åˆ¤æ–­å’Œè®¿é—®æˆå‘˜è¿™ä¸¤ç§æ“ä½œåˆäºŒä¸ºä¸€ï¼Œæ‰€ä»¥ä½ æ²¡æ³•çŠ¯é”™ã€‚
>
> æ¯”å¦‚ï¼Œåœ¨Swifté‡Œé¢ï¼Œä½ å¯ä»¥è¿™æ ·å†™ï¼š
>
> ```swift
> let found = find()
> if let content = found {
>   print("found: " + content)
> }
> ```
>
> ä½ ä»`find()`å‡½æ•°å¾—åˆ°ä¸€ä¸ªOptionalç±»å‹çš„å€¼`found`ã€‚å‡è®¾å®ƒçš„ç±»å‹æ˜¯`String?`ï¼Œé‚£ä¸ªé—®å·è¡¨ç¤ºå®ƒå¯èƒ½åŒ…å«ä¸€ä¸ªStringï¼Œä¹Ÿå¯èƒ½æ˜¯nilã€‚ç„¶åä½ å°±å¯ä»¥ç”¨ä¸€ç§ç‰¹æ®Šçš„ifè¯­å¥ï¼ŒåŒæ—¶è¿›è¡Œnullæ£€æŸ¥å’Œè®¿é—®å…¶ä¸­çš„å†…å®¹ã€‚è¿™ä¸ªifè¯­å¥è·Ÿæ™®é€šçš„ifè¯­å¥ä¸ä¸€æ ·ï¼Œå®ƒçš„æ¡ä»¶ä¸æ˜¯ä¸€ä¸ªBoolï¼Œè€Œæ˜¯ä¸€ä¸ªå˜é‡ç»‘å®š`let content = found`ã€‚
>
> æˆ‘ä¸æ˜¯å¾ˆå–œæ¬¢è¿™è¯­æ³•ï¼Œä¸è¿‡è¿™æ•´ä¸ªè¯­å¥çš„å«ä¹‰æ˜¯ï¼šå¦‚æœfoundæ˜¯nilï¼Œé‚£ä¹ˆæ•´ä¸ªifè¯­å¥è¢«ç•¥è¿‡ã€‚å¦‚æœå®ƒä¸æ˜¯nilï¼Œé‚£ä¹ˆå˜é‡contentè¢«ç»‘å®šåˆ°foundé‡Œé¢çš„å€¼ï¼ˆunwrapæ“ä½œï¼‰ï¼Œç„¶åæ‰§è¡Œ`print("found: " + content)`ã€‚ç”±äºè¿™ç§å†™æ³•æŠŠæ£€æŸ¥å’Œè®¿é—®åˆå¹¶åœ¨äº†ä¸€èµ·ï¼Œä½ æ²¡æ³•åªè¿›è¡Œè®¿é—®è€Œä¸æ£€æŸ¥ã€‚



#### é›†åˆç±»å‹

Swift è¯­è¨€æä¾› `Arrays`ã€`Sets` å’Œ `Dictionaries`ä¸‰ç§åŸºæœ¬çš„*é›†åˆç±»å‹*ç”¨æ¥å­˜å‚¨é›†åˆæ•°æ®ã€‚æ•°ç»„ï¼ˆArraysï¼‰æ˜¯æœ‰åºæ•°æ®çš„é›†ã€‚é›†åˆï¼ˆSetsï¼‰æ˜¯æ— åºæ— é‡å¤æ•°æ®çš„é›†ã€‚å­—å…¸ï¼ˆDictionariesï¼‰æ˜¯æ— åºçš„é”®å€¼å¯¹çš„é›†ã€‚

![../_images/CollectionTypes_intro_2x.png](https://docs.swift.org/swift-book/_images/CollectionTypes_intro_2x.png)

#### ç±»å’Œç»“æ„

åœ¨Swiftä¸­ç±»å’Œç»“æ„shareå¾ˆå¤šç‰¹æ€§ï¼ˆè¿™ç‚¹åŒC++ç›¸ä¼¼ï¼Œä½†æ˜¯åŒºåˆ«ä¹Ÿå¾ˆå¤§ï¼ŒC++çš„Structæ›´åƒclassï¼‰ï¼Œæ¯”å¦‚ï¼š

- å®šä¹‰å±æ€§ç”¨äºå­˜å‚¨å€¼
- å®šä¹‰æ–¹æ³•ç”¨äºæä¾›åŠŸèƒ½
- å®šä¹‰ä¸‹æ ‡æ“ä½œç”¨äºé€šè¿‡ä¸‹æ ‡è¯­æ³•è®¿é—®å®ƒä»¬çš„å€¼
- å®šä¹‰æ„é€ å™¨ç”¨äºè®¾ç½®åˆå§‹å€¼
- é€šè¿‡æ‰©å±•ä»¥å¢åŠ é»˜è®¤å®ç°ä¹‹å¤–çš„åŠŸèƒ½
- éµå¾ªåè®®ä»¥æä¾›æŸç§æ ‡å‡†åŠŸèƒ½

ä½†æ˜¯æœ‰ä¸€ä¸ªé‡è¦ä¸åŒâ€”â€”**Structæ˜¯value typeï¼Œclassæ˜¯reference type**ï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œclassè¿˜æœ‰Structæ²¡æœ‰çš„åŠŸèƒ½ï¼š

- ç»§æ‰¿å…è®¸ä¸€ä¸ªç±»ç»§æ‰¿å¦ä¸€ä¸ªç±»çš„ç‰¹å¾
- ç±»å‹è½¬æ¢å…è®¸åœ¨è¿è¡Œæ—¶æ£€æŸ¥å’Œè§£é‡Šä¸€ä¸ªç±»å®ä¾‹çš„ç±»å‹
- ææ„å™¨å…è®¸ä¸€ä¸ªç±»å®ä¾‹é‡Šæ”¾ä»»ä½•å…¶æ‰€è¢«åˆ†é…çš„èµ„æº
- å¼•ç”¨è®¡æ•°å…è®¸å¯¹ä¸€ä¸ªç±»çš„å¤šæ¬¡å¼•ç”¨

> åœ¨å¾ˆå¤šæ—¶å€™ï¼ŒStructè¢«ç”¨äºæŒ‡ä»£æ‰€æœ‰å€¼ç±»å‹çš„æ•°æ®ç±»å‹ï¼Œæ¯”å¦‚intä¹Ÿæ˜¯ä¸€ä¸ªStructï¼Œdoubleä¹Ÿæ˜¯ä¸€ä¸ªStructç­‰ã€‚è¿™ä¹Ÿæ˜¯å¯ä»¥ç†è§£çš„â€”â€”æ­£æ˜¯ç”±äºStructå’Œclassçš„åŒºåˆ«ã€‚







### æ³›å‹ï¼ˆGenericsï¼‰

åœ¨C++ã€Javaä¸­éƒ½æœ‰æ³›å‹çš„æ¦‚å¿µï¼Œä¹Ÿå°±æ˜¯å‡½æ•°æ¨¡ç‰ˆã€‚ä½†æ˜¯ä¹‹å‰æ²¡æƒ³åˆ°çš„æ˜¯â€”â€”**æ•°ç»„ï¼ˆArrayï¼‰ä¾¿æ˜¯æ³›å‹åº”ç”¨çš„æœ€å¥½ä¾‹å­**ï¼

æ‰€è°“çš„æ³›å‹/æ¨¡ç‰ˆï¼Œæˆ‘ä»¬å¯ä»¥ç†è§£ä¸ºâ€œ**Don't care Type**â€ã€‚å®šä¹‰æ—¶<What ever type>ï¼Œä½¿ç”¨æ—¶<int>æˆ–è€…<double>ä¹‹ç±»çš„ï¼Œå†èµ‹å€¼ã€‚

```swift
struct Array<Element> {
    //...
    func append(_element: Element) {
        //...
    }
}

var a = Array<int>()
a.append(5)
```



### é—­åŒ…ï¼ˆClosuresï¼‰

ç®€å•çš„æ¥è®²ï¼Œè¿™å°±â€œæ˜¯â€ä¸ªinlineå‡½æ•°ã€‚**å½“å‡½æ•°å¾ˆç®€å•æ—¶ï¼Œè‹¥å°†å…¶returnå€¼ä½œä¸ºå‚æ•°ä¼ é€’ï¼Œåˆ™å°†æ•´ä¸ªå‡½æ•°inlineä½œä¸ºå‚æ•°ä¼ é€’**ã€‚

ä½†å®ç°èµ·æ¥ä¹Ÿæ²¡è¿™ä¹ˆç®€å•ï¼Œå› ä¸ºä¼ é€’å‡½æ•°ä¼ é€’çš„æ˜¯å‡½æ•°åœ°å€ï¼Œæ€ä¹ˆè·å–å…¶å†…éƒ¨å˜é‡å€¼å‘¢ï¼Ÿè¿™ç†è®ºä¸Šå’Œè¦ä¼ é€’çš„å‚æ•°ç±»å‹ä¸åŒ¹é…å•Šï¼



### æ–¹æ³•ï¼ˆMethodsï¼‰

æ–¹æ³•æŒ‡çš„æ˜¯ç»“æ„æˆ–ç±»é‡Œé¢çš„å‡½æ•°ï¼ˆCè¯­è¨€ç»“æ„ä¸­ä¸èƒ½å®šä¹‰æ–¹æ³•ï¼Œä½†æ˜¯C++/Swiftå¯ä»¥ï¼‰ã€‚ä¸»è¦åˆ†ä¸ºå®ä¾‹æ–¹æ³•ï¼ˆInstance Methodsï¼‰å’Œç±»å‹æ–¹æ³•ï¼ˆType Methodsï¼‰ã€‚é¡¾åæ€ä¹‰ï¼Œå®ä¾‹å°±æ˜¯åœ¨åˆ›å»ºå®ä¾‹åæ‰èƒ½ä½¿ç”¨çš„æ–¹æ³•ï¼Œä¹Ÿæ˜¯åŒºåˆ«äºæ¯ä¸ªå®ä¾‹çš„ã€‚è€Œç±»å‹æ–¹æ³•åˆ™æ˜¯å¯ä»¥é’ˆå¯¹ç±»æœ¬èº«çš„ã€‚

è¿™å°±è¦è¯´åˆ°**åœ¨å®šä¹‰ç±»-->å®ä¾‹åŒ–çš„è¿‡ç¨‹ä¸­ï¼Œç±»åœ¨å†…å­˜ä¸­çš„è¡Œä¸º**ï¼š



#### Instance Methods



#### Type Methods



### [å…³é”®å­—](https://swift.gg/2019/08/22/Swift-Keywords/)



#### å£°æ˜å¼å…³é”®å­—

**associatedtype**ï¼šåœ¨åè®®ä¸­ï¼Œå®šä¹‰ä¸€ä¸ªç±»å‹çš„å ä½ç¬¦åç§°ã€‚ç›´åˆ°åè®®è¢«å®ç°ï¼Œè¯¥å ä½ç¬¦æ‰ä¼šè¢«æŒ‡å®šå…·ä½“çš„ç±»å‹ã€‚

```
protocol Entertainment  
{  
    associatedtype MediaType  
}

class Foo : Entertainment  
{  
    typealias MediaType = String //å¯ä»¥æŒ‡å®šä»»æ„ç±»å‹
}
```

**class**ï¼šé€šç”¨ã€çµæ´»çš„ç»“æ„ä½“ï¼Œæ˜¯ç¨‹åºçš„åŸºç¡€ç»„æˆéƒ¨åˆ†ã€‚ä¸ struct ç±»ä¼¼ï¼Œä¸åŒä¹‹å¤„åœ¨äºï¼š

- å…è®¸ä¸€ä¸ªç±»ç»§æ‰¿å¦ä¸€ä¸ªç±»çš„ç‰¹æ€§ã€‚
- ç±»å‹è½¬æ¢ï¼Œå…è®¸åœ¨è¿è¡Œæ—¶æ£€æŸ¥å’ŒæŒ‡å®šä¸€ä¸ªç±»çš„å®é™…ç±»å‹ã€‚
- ææ„æ–¹æ³•å…è®¸ç±»çš„å®ä¾‹é‡Šæ”¾æ‰€æœ‰èµ„æºã€‚
- å¼•ç”¨è®¡æ•°å…è®¸å¤šä¸ªå¼•ç”¨æŒ‡å‘ä¸€ä¸ªå®ä¾‹ã€‚

```
class Person  
{  
    var name:String  
    var age:Int  
    var gender:String  
}
```

**deinit**ï¼šå½“ä¸€ä¸ªç±»çš„å®ä¾‹å³å°†è¢«é”€æ¯æ—¶ï¼Œä¼šè°ƒç”¨è¿™ä¸ªæ–¹æ³•ã€‚

```
class Person  
{  
    var name:String  
    var age:Int  
    var gender:String

    deinit  
    {  
        //ä»å †ä¸­é‡Šæ”¾ï¼Œå¹¶é‡Šæ”¾çš„èµ„æº
    }  
}
```

**enum**ï¼šå®šä¹‰äº†åŒ…å«ä¸€ç»„æœ‰å…³è”çš„å€¼çš„ç±»å‹ï¼Œå¹¶å¯ä»¥ä»¥ä¸€ç§ç±»å‹å®‰å…¨çš„æ–¹å¼ä½¿ç”¨è¿™äº›å€¼ã€‚åœ¨ Swift ä¸­ï¼Œæšä¸¾æ˜¯ä¸€ç­‰ç±»å‹ï¼Œæ‹¥æœ‰åœ¨å…¶å®ƒè¯­è¨€ä¸­åªæœ‰ class æ‰ä¼šæ”¯æŒçš„ç‰¹æ€§ã€‚

```
enum Gender  
{  
    case male  
    case female  
}
```

**extension**ï¼šå…è®¸ç»™å·²æœ‰çš„ç±»ã€ç»“æ„ä½“ã€æšä¸¾ã€åè®®ç±»å‹ï¼Œæ·»åŠ æ–°åŠŸèƒ½ã€‚

```
class Person  
{  
    var name:String = ""  
    var age:Int = 0  
    var gender:String = ""  
}

extension Person  
{  
    func printInfo()  
    {  
        print("My name is \(name), I'm \(age) years old and I'm a \(gender).")  
    }  
}
```

**fileprivate**ï¼šè®¿é—®æ§åˆ¶æƒé™ï¼Œåªå…è®¸åœ¨å®šä¹‰æºæ–‡ä»¶ä¸­è®¿é—®ã€‚

```
class Person  
{  
    fileprivate var jobTitle:String = ""  
}

extension Person  
{
    //å½“ extension å’Œ class åœ¨åŒä¸€ä¸ªæ–‡ä»¶ä¸­æ—¶ï¼Œå…è®¸è®¿é—®
    func printJobTitle()  
    {  
        print("My job is (jobTitle)")  
    }  
}
```

**func**ï¼šåŒ…å«ç”¨äºæ‰§è¡Œç‰¹å®šä»»åŠ¡çš„ä»£ç å—ã€‚

```
func addNumbers(num1:Int, num2:Int) -> Int  
{  
    return num1+num2  
}
```

**import**ï¼šå¼•å…¥ä¸€ä¸ªä»¥ç‹¬ç«‹å•å…ƒæ„å»ºçš„æ¡†æ¶æˆ–è€…åº”ç”¨ã€‚

```
import UIKit

//å¯ä»¥ä½¿ç”¨ UIKit æ¡†æ¶ä¸‹çš„æ‰€æœ‰ä»£ç 
class Foo {}
```

**init**ï¼šç±»ã€ç»“æ„ä½“ã€æšä¸¾çš„å®ä¾‹çš„åˆå§‹åŒ–å‡†å¤‡è¿‡ç¨‹ã€‚

```
class Person
{  
    init()  
    {  
        //è®¾ç½®é»˜è®¤å€¼ï¼Œå®ä¾‹å‡†å¤‡è¢«ä½¿ç”¨
    }  
}
```

**inout**ï¼šå°†ä¸€ä¸ªå€¼ä¼ å…¥å‡½æ•°ï¼Œå¹¶å¯ä»¥è¢«å‡½æ•°ä¿®æ”¹ï¼Œç„¶åå°†å€¼ä¼ å›åˆ°è°ƒç”¨å¤„ï¼Œæ¥æ›¿æ¢åˆå§‹å€¼ã€‚é€‚ç”¨äºå¼•ç”¨ç±»å‹å’Œå€¼ç±»å‹ã€‚

```
func dangerousOp(_ error:inout NSError?)  
{  
    error = NSError(domain: "", code: 0, userInfo: ["":""])  
}

var potentialError:NSError?
dangerousOp(&potentialError)

//ä»£ç è¿è¡Œåˆ°è¿™é‡Œï¼ŒpotentialError ä¸å†æ˜¯ nilï¼Œè€Œæ˜¯å·²ç»è¢«åˆå§‹åŒ–
```

**internal**ï¼šè®¿é—®æ§åˆ¶æƒé™ï¼Œå…è®¸åŒä¸€ä¸ªæ¨¡å—ä¸‹çš„æ‰€æœ‰æºæ–‡ä»¶è®¿é—®ï¼Œå¦‚æœåœ¨ä¸åŒæ¨¡å—ä¸‹åˆ™ä¸å…è®¸è®¿é—®ã€‚

```
class Person  
{  
    internal var jobTitle:String = ""  
}

let aPerson = Person()  
aPerson.jobTitle = "This can set anywhere in the application"
```

**let**ï¼šå®šä¹‰ä¸€ä¸ªä¸å¯å˜çš„å˜é‡ã€‚

```
let constantString = "This cannot be mutated going forward"
```

**open**ï¼šè®¿é—®æ§åˆ¶æƒé™ï¼Œå…è®¸åœ¨å®šä¹‰çš„æ¨¡å—å¤–ä¹Ÿå¯ä»¥è®¿é—®æºæ–‡ä»¶é‡Œçš„æ‰€æœ‰ç±»ï¼Œå¹¶è¿›è¡Œå­ç±»åŒ–ã€‚å¯¹äºç±»æˆå‘˜ï¼Œå…è®¸åœ¨å®šä¹‰çš„æ¨¡å—ä¹‹å¤–è®¿é—®å’Œé‡å†™ã€‚

```
open var foo:String? //è¿™ä¸ªå±æ€§å…è®¸åœ¨ app å†…æˆ– app å¤–é‡å†™å’Œè®¿é—®ã€‚åœ¨å¼€å‘æ¡†æ¶çš„æ—¶å€™ï¼Œä¼šåº”ç”¨åˆ°è¿™ä¸ªè®¿é—®ä¿®é¥°ç¬¦ã€‚
```

**operator**ï¼šç‰¹æ®Šç¬¦å·ï¼Œç”¨äºæ£€æŸ¥ã€ä¿®æ”¹ã€ç»„åˆå€¼ã€‚

```
//ä¸€å…ƒè¿ç®—ç¬¦ "-"ï¼Œæ”¹å˜å€¼çš„ç¬¦å·
let foo = 5  
let anotherFoo = -foo //anotherFoo ç­‰äº -5

//äºŒå…ƒè¿ç®—ç¬¦ "+" å°†ä¸¤ä¸ªå€¼ç›¸åŠ 
let box = 5 + 3

//é€»è¾‘è¿ç®—ç¬¦ "&&" å°†ä¸¤ä¸ªå¸ƒå°”å€¼è¿›è¡Œç»„åˆè¿ç®—
if didPassCheckOne && didPassCheckTwo

//ä¸‰å…ƒè¿ç®—ç¬¦éœ€è¦ä½¿ç”¨ä¸‰ä¸ªå€¼
let isLegalDrinkingAgeInUS:Bool = age >= 21 ? true : false
```

**private**ï¼šè®¿é—®æ§åˆ¶æƒé™ï¼Œåªå…è®¸å®ä½“åœ¨å®šä¹‰çš„ç±»ä»¥åŠç›¸åŒæºæ–‡ä»¶å†…çš„ extension ä¸­è®¿é—®ã€‚

```
class Person  
{  
    private var jobTitle:String = ""  
}

// å½“ extension å’Œ class ä¸åœ¨åŒä¸€ä¸ªæºæ–‡ä»¶æ—¶
extension Person  
{
    // æ— æ³•ç¼–è¯‘é€šè¿‡ï¼Œåªæœ‰åœ¨åŒä¸€ä¸ªæºæ–‡ä»¶ä¸‹æ‰å¯ä»¥è®¿é—®
    func printJobTitle()  
    {  
        print("My job is (jobTitle)")  
    }  
}
```

**protocol**ï¼šå®šä¹‰äº†ä¸€ç»„æ–¹æ³•ã€å±æ€§æˆ–å…¶å®ƒè¦æ±‚ï¼Œç”¨äºæ»¡è¶³ç‰¹å®šä»»åŠ¡å’Œä¸€ç³»åˆ—åŠŸèƒ½ã€‚

```
protocol Blog  
{  
    var wordCount:Int { get set }  
    func printReaderStats()  
}

class TTIDGPost : Blog  
{  
    var wordCount:Int

    init(wordCount:Int)  
    {  
        self.wordCount = wordCount  
    }

    func printReaderStats()  
    {  
        //æ‰“å° post çš„æ•°æ®  
    }  
}
```

**public**ï¼šè®¿é—®æ§åˆ¶æƒé™ï¼Œå…è®¸åœ¨å®šä¹‰çš„æ¨¡å—å¤–ä¹Ÿå¯ä»¥è®¿é—®æºæ–‡ä»¶é‡Œçš„æ‰€æœ‰ç±»ï¼Œä½†åªæœ‰åœ¨åŒä¸€ä¸ªæ¨¡å—å†…å¯ä»¥è¿›è¡Œå­ç±»åŒ–ã€‚å¯¹äºç±»æˆå‘˜ï¼Œå…è®¸åœ¨åŒä¸ªæ¨¡å—ä¸‹è®¿é—®å’Œé‡å†™ã€‚

```
public var foo:String? //åªå…è®¸åœ¨ app å†…é‡å†™å’Œè®¿é—®ã€‚
```

**static**ï¼šç”¨äºå®šä¹‰ç±»æ–¹æ³•ï¼Œåœ¨ç±»å‹æœ¬èº«è¿›è¡Œè°ƒç”¨ã€‚æ­¤å¤–è¿˜å¯ä»¥å®šä¹‰é™æ€æˆå‘˜ã€‚

```
class Person  
{  
    var jobTitle:String?

    static func assignRandomName(_ aPerson:Person)  
    {  
        aPerson.jobTitle = "Some random job"  
    }  
}

let somePerson = Person()  
Person.assignRandomName(somePerson)  
//somePerson.jobTitle çš„å€¼æ˜¯ "Some random job"
```

**struct**ï¼šé€šç”¨ã€çµæ´»çš„ç»“æ„ä½“ï¼Œæ˜¯ç¨‹åºçš„åŸºç¡€ç»„æˆéƒ¨åˆ†ï¼Œå¹¶æä¾›äº†é»˜è®¤åˆå§‹åŒ–æ–¹æ³•ã€‚ä¸ class ä¸åŒï¼Œå½“ struct åœ¨ä»£ç ä¸­è¢«ä¼ é€’æ—¶ï¼Œæ˜¯è¢«æ‹·è´çš„ï¼Œå¹¶ä¸ä½¿ç”¨å¼•ç”¨è®¡æ•°ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œstruct æ²¡æœ‰ä¸‹é¢çš„è¿™äº›åŠŸèƒ½ï¼š

- ä½¿ç”¨ç»§æ‰¿ã€‚
- è¿è¡Œæ—¶çš„ç±»å‹è½¬æ¢ã€‚
- ä½¿ç”¨ææ„æ–¹æ³•ã€‚

```
struct Person  
{  
    var name:String  
    var age:Int  
    var gender:String  
}
```

**subscript**ï¼šè®¿é—®é›†åˆã€åˆ—è¡¨ã€åºåˆ—ä¸­æˆå‘˜å…ƒç´ çš„å¿«æ·æ–¹å¼ã€‚

```
var postMetrics = ["Likes":422, "ReadPercentage":0.58, "Views":3409]  
let postLikes = postMetrics["Likes"]
```

**typealias**ï¼šç»™ä»£ç ä¸­å·²ç»å­˜åœ¨çš„ç±»ï¼Œå–åˆ«åã€‚

```
typealias JSONDictionary = [String: AnyObject]

func parseJSON(_ deserializedData:JSONDictionary){}
```

**var**ï¼šå®šä¹‰å¯å˜å˜é‡ã€‚

```
var mutableString = ""  
mutableString = "Mutated"
```

#### è¯­å¥ä¸­çš„å…³é”®è¯

**break**ï¼šç»ˆæ­¢ç¨‹åºä¸­å¾ªç¯çš„æ‰§è¡Œï¼Œæ¯”å¦‚ if è¯­å¥ã€switch è¯­å¥ã€‚

```
for idx in 0...3  
{  
    if idx % 2 == 0  
    {  
        //å½“ idx ç­‰äºå¶æ•°æ—¶ï¼Œé€€å‡º for å¾ªç¯  
        break  
    }  
}
```

**case**ï¼šè¯¥è¯­å¥åœ¨ switch è¯­å¥ä¸­åˆ—å‡ºï¼Œåœ¨æ¯ä¸ªåˆ†æ”¯å¯ä»¥è¿›è¡Œæ¨¡å¼åŒ¹é…ã€‚

```
let box = 1

switch box  
{  
    case 0:  
    print("Box equals 0")  
    case 1:  
    print("Box equals 1")  
    default:  
    print("Box doesn't equal 0 or 1")  
}
```

**continue**ï¼šç”¨äºç»ˆæ­¢å¾ªç¯çš„å½“å‰è¿­ä»£ï¼Œå¹¶è¿›å…¥ä¸‹ä¸€æ¬¡è¿­ä»£ï¼Œè€Œä¸ä¼šåœæ­¢æ•´ä¸ªå¾ªç¯çš„æ‰§è¡Œã€‚

```
for idx in 0...3  
{  
    if idx % 2 == 0  
    {  
        //ç›´æ¥å¼€å§‹å¾ªç¯çš„ä¸‹ä¸€æ¬¡è¿­ä»£
        continue  
    }

    print("This code never fires on even numbers")  
}
```

**default**ï¼šç”¨äºæ¶µç›–åœ¨ switch è¯­å¥ä¸­ï¼Œæ‰€æœ‰æœªæ˜ç¡®åˆ—å‡ºçš„æšä¸¾æˆå‘˜ã€‚

```
let box = 1

switch box  
{  
    case 0:  
    print("Box equals 0")  
    case 1:  
    print("Box equals 1")  
    default:  
    print("Covers any scenario that doesn't get addressed above.")  
}
```

**defer**ï¼šç”¨äºåœ¨ç¨‹åºç¦»å¼€å½“å‰ä½œç”¨åŸŸä¹‹å‰ï¼Œæ‰§è¡Œä¸€æ®µä»£ç ã€‚

```
func cleanUpIO()  
{  
    defer  
    {  
        print("This is called right before exiting scope")  
    }


    //å…³é—­æ–‡ä»¶æµç­‰ã€‚  
}
```

**do**ï¼šç”¨äºè¡¨ç¤ºå¤„ç†é”™è¯¯ä»£ç æ®µçš„å¼€å§‹ã€‚

```
do  
{  
    try expression  
    //è¯­å¥
}  
catch someError ex  
{  
    //å¤„ç†é”™è¯¯
}
```

**else**ï¼šä¸ if è¯­å¥ç»“åˆä½¿ç”¨ã€‚å½“æ¡ä»¶ä¸º trueï¼Œæ‰§è¡Œä¸€æ®µä»£ç ã€‚å½“æ¡ä»¶ä¸º falseï¼Œæ‰§è¡Œå¦ä¸€æ®µä»£ç ã€‚

```
if val > 1  
{  
    print("val is greater than 1")  
}  
else  
{  
    print("val is not greater than 1")  
}
```

**fallthrough**ï¼šæ˜¾å¼åœ°å…è®¸ä»å½“å‰ case è·³è½¬åˆ°ä¸‹ä¸€ä¸ªç›¸é‚» case ç»§ç»­æ‰§è¡Œä»£ç ã€‚

```
let box = 1

switch box  
{  
    case 0:  
    print("Box equals 0")  
    fallthrough  
    case 1:  
    print("Box equals 0 or 1")  
    default:  
    print("Box doesn't equal 0 or 1")  
}
```

**for**ï¼šåœ¨åºåˆ—ä¸Šè¿­ä»£ï¼Œæ¯”å¦‚ä¸€ç»„ç‰¹å®šèŒƒå›´å†…çš„æ•°å­—ï¼Œæ•°ç»„ä¸­çš„å…ƒç´ ï¼Œå­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦ã€‚*ä¸å…³é”®å­— in æˆå¯¹ä½¿ç”¨ã€‚

```
for _ in 0..<3 { print ("This prints 3 times") }
```

**guard**ï¼šå½“æœ‰ä¸€ä¸ªä»¥ä¸Šçš„æ¡ä»¶ä¸æ»¡è¶³è¦æ±‚æ—¶ï¼Œå°†ç¦»å¼€å½“å‰ä½œç”¨åŸŸã€‚åŒæ—¶è¿˜æä¾›è§£åŒ…å¯é€‰ç±»å‹çš„åŠŸèƒ½ã€‚

```
private func printRecordFromLastName(userLastName: String?)
{  
    guard let name = userLastName, name != "Null" else  
    {  
        //userLastName = "Null"ï¼Œéœ€è¦æå‰é€€å‡º
        return  
    }

    //ç»§ç»­æ‰§è¡Œä»£ç 
    print(dataStore.findByLastName(name))  
}
```

**if**ï¼šå½“æ¡ä»¶æ»¡è¶³æ—¶ï¼Œæ‰§è¡Œä»£ç ã€‚

```
if 1 > 2  
{  
    print("This will never execute")  
}
```

**in**ï¼šåœ¨åºåˆ—ä¸Šè¿­ä»£ï¼Œæ¯”å¦‚ä¸€ç»„ç‰¹å®šèŒƒå›´å†…çš„æ•°å­—ï¼Œæ•°ç»„ä¸­çš„å…ƒç´ ï¼Œå­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦ã€‚*ä¸å…³é”®å­— key æ­é…ä½¿ç”¨ã€‚

```
for _ in 0..<3 { print ("This prints 3 times") }
```

**repeat**ï¼šåœ¨ä½¿ç”¨å¾ªç¯çš„åˆ¤æ–­æ¡ä»¶ä¹‹å‰ï¼Œå…ˆæ‰§è¡Œä¸€æ¬¡å¾ªç¯ä¸­çš„ä»£ç ã€‚

```
repeat  
{  
    print("Always executes at least once before the condition is considered")  
}  
while 1 > 2
```

**return**ï¼šç«‹åˆ»ç»ˆæ­¢å½“å‰ä¸Šä¸‹æ–‡ï¼Œç¦»å¼€å½“å‰ä½œç”¨åŸŸï¼Œæ­¤å¤–åœ¨è¿”å›æ—¶å¯ä»¥é¢å¤–æºå¸¦ä¸€ä¸ªå€¼ã€‚

```
func doNothing()  
{  
    return //ç›´æ¥ç¦»å¼€å½“å‰ä¸Šä¸‹æ–‡

    let anInt = 0  
    print("This never prints (anInt)")  
}
```

å’Œ

```
func returnName() -> String?  
{  
    return self.userName //ç¦»å¼€ï¼Œå¹¶è¿”å› userName çš„å€¼
}
```

**switch**ï¼šå°†ç»™å®šçš„å€¼ä¸åˆ†æ”¯è¿›è¡Œæ¯”è¾ƒã€‚æ‰§è¡Œç¬¬ä¸€ä¸ªæ¨¡å¼åŒ¹é…æˆåŠŸçš„åˆ†æ”¯ä»£ç ã€‚

```
let box = 1

switch box  
{  
    case 0:  
    print("Box equals 0")  
    fallthrough  
    case 1:  
    print("Box equals 0 or 1")  
    default:  
    print("Box doesn't equal 0 or 1")  
}
```

**where**ï¼šè¦æ±‚å…³è”ç±»å‹å¿…é¡»éµå®ˆç‰¹å®šåè®®ï¼Œæˆ–è€…ç±»å‹å‚æ•°å’Œå…³è”ç±»å‹å¿…é¡»ä¿æŒä¸€è‡´ã€‚ä¹Ÿå¯ä»¥ç”¨äºåœ¨ case ä¸­æä¾›é¢å¤–æ¡ä»¶ï¼Œç”¨äºæ»¡è¶³æ§åˆ¶è¡¨è¾¾å¼ã€‚

> where ä»å¥å¯ä»¥åº”ç”¨äºå¤šç§åœºæ™¯ã€‚ä»¥ä¸‹ä¾‹å­æŒ‡æ˜äº† where çš„ä¸»è¦åº”ç”¨åœºæ™¯ï¼Œæ³›å‹ä¸­çš„æ¨¡å¼åŒ¹é…ã€‚

```
protocol Nameable  
{  
    var name:String {get set}  
}

func createdFormattedName(_ namedEntity:T) -> String where T:Equatable  
{  
    //åªæœ‰å½“å®ä½“åŒæ—¶éµå®ˆ Nameable å’Œ Equatable åè®®çš„æ—¶å€™ï¼Œæ‰å…è®¸è°ƒç”¨è¿™ä¸ªå‡½æ•°
    return "This things name is " + namedEntity.name  
}
```

å’Œ

```
for i in 0â€¦3 where i % 2 == 0  
{  
    print(i) //æ‰“å° 0 å’Œ 2  
}
```

**while**ï¼šå¾ªç¯æ‰§è¡Œç‰¹å®šçš„ä¸€æ®µè¯­å¥ï¼Œç›´åˆ°æ¡ä»¶ä¸æ»¡è¶³æ—¶ï¼Œåœæ­¢å¾ªç¯ã€‚

```
while foo != bar  
{  
    print("Keeps going until the foo == bar")  
}
```

#### è¡¨è¾¾å¼å’Œç±»å‹ä¸­çš„å…³é”®å­—

**Any**ï¼šç”¨äºè¡¨ç¤ºä»»æ„ç±»å‹çš„å®ä¾‹ï¼ŒåŒ…æ‹¬å‡½æ•°ç±»å‹ã€‚

```
var anything = [Any]()

anything.append("Any Swift type can be added")  
anything.append(0)  
anything.append({(foo: String) -> String in "Passed in (foo)"})
```

**as**ï¼šç±»å‹è½¬æ¢è¿ç®—ç¬¦ï¼Œç”¨äºå°è¯•å°†å€¼è½¬æˆå…¶å®ƒç±»å‹ã€‚

```
var anything = [Any]()

anything.append("Any Swift type can be added")  
anything.append(0)  
anything.append({(foo: String) -> String in "Passed in (foo)" })

let intInstance = anything[1] as? Int
```

æˆ–è€…

```swift
var anything = [Any]()

anything.append("Any Swift type can be added")  
anything.append(0)  
anything.append({(foo: String) -> String in "Passed in (foo)" })

for thing in anything  
{  
    switch thing  
    {  
        case 0 as Int:  
        print("It's zero and an Int type")  
        case let someInt as Int:  
        print("It's an Int that's not zero but (someInt)")  
        default:  
        print("Who knows what it is")  
    }  
}
```

**catch**ï¼šå¦‚æœåœ¨ do ä¸­æŠ›å‡ºä¸€ä¸ªé”™è¯¯ï¼Œcatch ä¼šå°è¯•è¿›è¡ŒåŒ¹é…ï¼Œå¹¶å†³å®šå¦‚ä½•å¤„ç†é”™è¯¯ã€‚[*æˆ‘å†™çš„ä¸€ç¯‡ Swift é”™è¯¯å¤„ç†çš„åšå®¢èŠ‚é€‰](https://swiftjectivec.com/swift-error-handling)ã€‚

```swift
do  
{  
    try haveAWeekend(4)  
}  
catch WeekendError.Overtime(let hoursWorked)  
{  
    print("You worked (hoursWorked) more than you should have")  
}  
catch WeekendError.WorkAllWeekend  
{  
    print("You worked 48 hours :-0")  
}  
catch  
{  
    print("Gulping the weekend exception")  
}
```

**false**ï¼šSwift ç”¨äºè¡¨ç¤ºå¸ƒå°”å€¼çš„ä¸¤ä¸ªå¸¸é‡å€¼ä¹‹ä¸€ï¼Œtrue çš„ç›¸åå€¼ã€‚

```swift
let alwaysFalse = false  
let alwaysTrue = true

if alwaysFalse { print("Won't print, alwaysFalse is false ğŸ˜‰")}
```

**is**ï¼šç±»å‹æ£€æŸ¥è¿ç®—ç¬¦ï¼Œç”¨äºç¡®å®šå®ä¾‹æ˜¯å¦ä¸ºæŸä¸ªå­ç±»ç±»å‹ã€‚

```swift
class Person {}  
class Programmer : Person {}  
class Nurse : Person {}

let people = [Programmer(), Nurse()]

for aPerson in people  
{  
    if aPerson is Programmer  
    {  
        print("This person is a dev")  
    }  
    else if aPerson is Nurse  
    {  
        print("This person is a nurse")  
    }  
}
```

**nil**ï¼šåœ¨ Swift ä¸­è¡¨ç¤ºä»»æ„ç±»å‹çš„æ— çŠ¶æ€å€¼ã€‚

> ä¸ Objective-C ä¸­çš„ nil ä¸åŒï¼ŒObjective-C ä¸­çš„ nil è¡¨ç¤ºæŒ‡å‘ä¸å­˜åœ¨å¯¹è±¡çš„æŒ‡é’ˆã€‚

```swift
class Person{}  
struct Place{}

//ä»»ä½• Swift ç±»å‹æˆ–å®ä¾‹å¯ä»¥ä¸º nil
var statelessPerson:Person? = nil  
var statelessPlace:Place? = nil  
var statelessInt:Int? = nil  
var statelessString:String? = nil
```

**rethrows**ï¼šæŒ‡æ˜å½“å‰å‡½æ•°åªæœ‰å½“å‚æ•°æŠ›å‡º error æ—¶ï¼Œæ‰ä¼šæŠ›å‡º errorã€‚

```swift
func networkCall(onComplete:() throws -> Void) rethrows  
{  
    do  
    {  
        try onComplete()  
    }  
    catch  
    {  
        throw SomeError.error  
    }  
}
```

**super**ï¼šåœ¨å­ç±»ä¸­ï¼Œæš´éœ²çˆ¶ç±»çš„æ–¹æ³•ã€å±æ€§ã€ä¸‹æ ‡ã€‚

```
class Person  
{  
    func printName()  
    {  
        print("Printing a name. ")  
    }  
}

class Programmer : Person  
{  
    override func printName()  
    {  
        super.printName()  
        print("Hello World!")  
    }  
}

let aDev = Programmer()  
aDev.printName() //æ‰“å° Printing a name. Hello World!
```

**self**ï¼šä»»ä½•ç±»å‹çš„å®ä¾‹éƒ½æ‹¥æœ‰çš„éšå¼å±æ€§ï¼Œç­‰åŒäºå®ä¾‹æœ¬èº«ã€‚æ­¤å¤–è¿˜å¯ä»¥ç”¨äºåŒºåˆ†å‡½æ•°å‚æ•°å’Œæˆå‘˜å±æ€§åç§°ç›¸åŒçš„æƒ…å†µã€‚

```
class Person  
{  
    func printSelf()  
    {  
        print("This is me: (self)")  
    }  
}

let aPerson = Person()  
aPerson.printSelf() //æ‰“å° "This is me: Person"
```

**Self**ï¼šåœ¨åè®®ä¸­ï¼Œè¡¨ç¤ºéµå®ˆå½“å‰åè®®çš„å®ä½“ç±»å‹ã€‚

```
protocol Printable  
{  
    func printTypeTwice(otherMe:Self)  
}

struct Foo : Printable  
{  
    func printTypeTwice(otherMe: Foo)  
    {  
        print("I am me plus (otherMe)")  
    }  
}

let aFoo = Foo()  
let anotherFoo = Foo()

aFoo.printTypeTwice(otherMe: anotherFoo) //æ‰“å° I am me plus Foo()
```

**throw**ï¼šç”¨äºåœ¨å½“å‰ä¸Šä¸‹æ–‡ï¼Œæ˜¾å¼æŠ›å‡º errorã€‚

```
enum WeekendError: Error  
{  
    case Overtime  
    case WorkAllWeekend  
}

func workOvertime () throws  
{  
    throw WeekendError.Overtime  
}
```

**throws**ï¼šæŒ‡æ˜åœ¨ä¸€ä¸ªå‡½æ•°ã€æ–¹æ³•ã€åˆå§‹åŒ–æ–¹æ³•ä¸­å¯èƒ½ä¼šæŠ›å‡º errorã€‚

```
enum WeekendError: Error  
{  
    case Overtime  
    case WorkAllWeekend  
}

func workOvertime () throws  
{  
    throw WeekendError.Overtime  
}

//"throws" è¡¨æ˜åœ¨è°ƒç”¨æ–¹æ³•æ—¶ï¼Œéœ€è¦ä½¿ç”¨ tryï¼Œtry?ï¼Œtry!
try workOvertime()
```

**true**ï¼šSwift ç”¨äºè¡¨ç¤ºå¸ƒå°”å€¼çš„ä¸¤ä¸ªå¸¸é‡å€¼ä¹‹ä¸€ï¼Œè¡¨ç¤ºä¸ºçœŸã€‚

```
let alwaysFalse = false  
let alwaysTrue = true

if alwaysTrue { print("Always prints")}
```

**try**ï¼šè¡¨æ˜æ¥ç€è°ƒç”¨çš„å‡½æ•°å¯èƒ½ä¼šæŠ›å‡º errorã€‚æœ‰ä¸‰ç§ä¸åŒçš„ä½¿ç”¨æ–¹å¼ï¼štryï¼Œtry?ï¼Œ try!ã€‚

```
let aResult = try dangerousFunction() //å¤„ç† errorï¼Œæˆ–è€…ç»§ç»­ä¼ é€’ error  
let aResult = try! dangerousFunction() //ç¨‹åºå¯èƒ½ä¼šé—ªé€€  
if let aResult = try? dangerousFunction() //è§£åŒ…å¯é€‰ç±»å‹ã€‚
```

#### æ¨¡å¼ä¸­çš„å…³é”®å­—

**_**ï¼šç”¨äºåŒ¹é…æˆ–çœç•¥ä»»æ„å€¼çš„é€šé…ç¬¦ã€‚

```
for _ in 0..<3  
{  
    print("Just loop 3 times, index has no meaning")  
}
```

å¦å¤–ä¸€ç§ç”¨æ³•ï¼š

```
let _ = Singleton() //å¿½ç•¥ä¸ä½¿ç”¨çš„å˜é‡
```

#### ä»¥#å¼€å¤´çš„å…³é”®å­—

**#available**ï¼šåŸºäºå¹³å°å‚æ•°ï¼Œé€šè¿‡ **if**ï¼Œ**while**ï¼Œ**guard** è¯­å¥çš„æ¡ä»¶ï¼Œåœ¨è¿è¡Œæ—¶æ£€æŸ¥ API çš„å¯ç”¨æ€§ã€‚

```swift
if #available(iOS 10, *)  
{  
    print("iOS 10 APIs are available")  
}
```

**#colorLiteral**ï¼šåœ¨ playground ä¸­ä½¿ç”¨çš„å­—é¢è¡¨è¾¾å¼ï¼Œç”¨äºåˆ›å»ºé¢œè‰²é€‰å–å™¨ï¼Œé€‰å–åèµ‹å€¼ç»™å˜é‡ã€‚

```
let aColor = #colorLiteral //åˆ›å»ºé¢œè‰²é€‰å–å™¨
```

**#column**ï¼šä¸€ç§ç‰¹æ®Šçš„å­—é¢é‡è¡¨è¾¾å¼ï¼Œç”¨äºè·å–å­—é¢é‡è¡¨ç¤ºå¼çš„èµ·å§‹åˆ—æ•°ã€‚

```swift
class Person  
{  
    func printInfo()  
    {  
        print("Some person info - on column (#column)")
    }  
}

let aPerson = Person()  
aPerson.printInfo() //Some person info - on column 53
```

**#else**ï¼šæ¡ä»¶ç¼–è¯‘æ§åˆ¶è¯­å¥ï¼Œç”¨äºæ§åˆ¶ç¨‹åºåœ¨ä¸åŒæ¡ä»¶ä¸‹æ‰§è¡Œä¸åŒä»£ç ã€‚ä¸ **#if** è¯­å¥ç»“åˆä½¿ç”¨ã€‚å½“æ¡ä»¶ä¸º trueï¼Œæ‰§è¡Œå¯¹åº”ä»£ç ã€‚å½“æ¡ä»¶ä¸º falseï¼Œæ‰§è¡Œå¦ä¸€æ®µä»£ç ã€‚

```swift
#if os(iOS)  
print("Compiled for an iOS device")  
#else  
print("Not on an iOS device")  
#endif
```

**#elseif**ï¼šæ¡ä»¶ç¼–è¯‘æ§åˆ¶è¯­å¥ï¼Œç”¨äºæ§åˆ¶ç¨‹åºåœ¨ä¸åŒæ¡ä»¶ä¸‹æ‰§è¡Œä»£ç ã€‚ä¸ **#if** è¯­å¥ç»“åˆä½¿ç”¨ã€‚å½“æ¡ä»¶ä¸º trueï¼Œæ‰§è¡Œå¯¹åº”ä»£ç ã€‚

```swift
#if os(iOS)  
print("Compiled for an iOS device")  
#elseif os(macOS)  
print("Compiled on a mac computer")  
#endif
```

**#endif**ï¼šæ¡ä»¶ç¼–è¯‘æ§åˆ¶è¯­å¥ï¼Œç”¨äºæ§åˆ¶ç¨‹åºåœ¨ä¸åŒæ¡ä»¶ä¸‹æ‰§è¡Œä»£ç ã€‚ç”¨äºè¡¨æ˜æ¡ä»¶ç¼–è¯‘ä»£ç çš„ç»“å°¾ã€‚

```swift
#if os(iOS)  
print("Compiled for an iOS device")  
#endif
```

**#file**ï¼šç‰¹æ®Šå­—é¢é‡è¡¨è¾¾å¼ï¼Œè¿”å›å½“å‰ä»£ç æ‰€åœ¨æºæ–‡ä»¶çš„åç§°ã€‚

```swift
class Person  
{  
    func printInfo()  
    {  
        print("Some person info - inside file (#file)")
    }  
}

let aPerson = Person()  
aPerson.printInfo() //Some person info - inside file /*ä»£ç æ‰€åœ¨ playground æ–‡ä»¶è·¯å¾„*/
```

**#fileReference**ï¼šplayground å­—é¢é‡è¯­æ³•ï¼Œç”¨äºåˆ›å»ºæ–‡ä»¶é€‰å–å™¨ï¼Œé€‰å–å¹¶è¿”å› NSURL å®ä¾‹ã€‚

```swift
let fontFilePath = #fileReference //åˆ›å»ºæ–‡ä»¶é€‰å–å™¨
```

**#function**ï¼šç‰¹æ®Šå­—é¢é‡è¡¨è¾¾å¼ï¼Œè¿”å›å‡½æ•°åç§°ã€‚åœ¨æ–¹æ³•ä¸­ï¼Œè¿”å›æ–¹æ³•åã€‚åœ¨å±æ€§çš„ getter æˆ–è€… setter ä¸­ï¼Œè¿”å›å±æ€§åã€‚åœ¨ç‰¹æ®Šçš„æˆå‘˜ä¸­ï¼Œæ¯”å¦‚ init æˆ– subscript ä¸­ï¼Œè¿”å›å…³é”®å­—åç§°ã€‚åœ¨æ–‡ä»¶çš„æœ€é¡¶å±‚æ—¶ï¼Œè¿”å›å½“å‰æ‰€åœ¨æ¨¡å—åç§°ã€‚

```swift
class Person  
{  
    func printInfo()  
    {  
        print("Some person info - inside function (#function)")
    }  
}

let aPerson = Person()  
aPerson.printInfo() //Some person info - inside function printInfo()
```

**#if**ï¼šæ¡ä»¶ç¼–è¯‘æ§åˆ¶è¯­å¥ï¼Œç”¨äºæ§åˆ¶ç¨‹åºåœ¨ä¸åŒæ¡ä»¶ä¸‹ç¼–è¯‘ä»£ç ã€‚é€šè¿‡åˆ¤æ–­æ¡ä»¶ï¼Œå†³å®šæ˜¯å¦æ‰§è¡Œä»£ç ã€‚

```swift
#if os(iOS)  
print("Compiled for an iOS device")  
#endif
```

**#imageLiteral**ï¼šplayground å­—é¢é‡è¯­æ³•ï¼Œåˆ›å»ºå›¾ç‰‡é€‰å–å™¨ï¼Œé€‰æ‹©å¹¶è¿”å› UIImage å®ä¾‹ã€‚

```swift
let anImage = #imageLiteral //åœ¨ playground æ–‡ä»¶ä¸­é€‰å–å›¾ç‰‡
```

**#line**ï¼šç‰¹æ®Šå­—é¢é‡è¡¨è¾¾å¼ï¼Œç”¨äºè·å–å½“å‰ä»£ç çš„è¡Œæ•°ã€‚

```swift
class Person  
{  
    func printInfo()  
    {  
        print("Some person info - on line number (#line)")
    }  
}

let aPerson = Person()  
aPerson.printInfo() //Some person info - on line number 5
```

**#selector**ï¼šç”¨äºåˆ›å»º Objective-C selector çš„è¡¨è¾¾å¼ï¼Œå¯ä»¥é™æ€æ£€æŸ¥æ–¹æ³•æ˜¯å¦å­˜åœ¨ï¼Œå¹¶æš´éœ²ç»™ Objective-Cã€‚

```swift
//é™æ€æ£€æŸ¥ï¼Œç¡®ä¿ doAnObjCMethod æ–¹æ³•å­˜åœ¨  
control.sendAction(#selector(doAnObjCMethod), to: target, forEvent: event)
```

**#sourceLocation**ï¼šè¡Œæ§åˆ¶è¯­å¥ï¼Œå¯ä»¥æŒ‡å®šä¸åŸå…ˆå®Œå…¨ä¸åŒçš„è¡Œæ•°å’Œæºæ–‡ä»¶åã€‚é€šå¸¸åœ¨ Swift è¯Šæ–­ã€debug æ—¶ä½¿ç”¨ã€‚

```swift
#sourceLocation(file:"foo.swift", line:6)

//æ‰“å°æ–°å€¼
print(#file)  
print(#line)

//é‡ç½®è¡Œæ•°å’Œæ–‡ä»¶å
#sourceLocation()

print(#file)  
print(#line)
```

#### ç‰¹å®šä¸Šä¸‹æ–‡ä¸­çš„å…³é”®å­—

> è¿™äº›å…³é”®å­—ï¼Œåœ¨å¤„äºå¯¹åº”ä¸Šä¸‹æ–‡ä¹‹å¤–æ—¶ï¼Œå¯ä»¥ç”¨ä½œæ ‡è¯†ç¬¦ã€‚

**associativity**ï¼šæŒ‡æ˜åŒä¸€ä¼˜å…ˆçº§çš„è¿ç®—ç¬¦ï¼Œåœ¨ç¼ºå°‘å¤§æ‹¬å·çš„æƒ…å†µï¼ŒæŒ‰ä»€ä¹ˆé¡ºåºç»“åˆã€‚ä½¿ç”¨ **left**ã€**right**ã€**none**ã€‚

```swift
infix operator ~ { associativity right precedence 140 }  
4 ~ 8
```

**convenience**ï¼šæ¬¡ç­‰çš„ä¾¿åˆ©æ„é€ å™¨ï¼Œæœ€åä¼šè°ƒç”¨æŒ‡å®šæ„é€ å™¨åˆå§‹åŒ–å®ä¾‹ã€‚

```swift
class Person  
{  
    var name:String

    init(_ name:String)  
    {  
        self.name = name  
    }

    convenience init()  
    {  
        self.init("No Name")  
    }  
}

let me = Person()  
print(me.name)//æ‰“å° "No Name"
```

**dynamic**ï¼šæŒ‡æ˜ç¼–è¯‘å™¨ä¸ä¼šå¯¹ç±»æˆå‘˜æˆ–è€…å‡½æ•°çš„æ–¹æ³•è¿›è¡Œå†…è”æˆ–è™šæ‹ŸåŒ–ã€‚è¿™æ„å‘³ç€å¯¹è¿™ä¸ªæˆå‘˜çš„è®¿é—®æ˜¯ä½¿ç”¨ Objective-C è¿è¡Œæ—¶è¿›è¡ŒåŠ¨æ€æ´¾å‘çš„ï¼ˆä»£æ›¿é™æ€è°ƒç”¨ï¼‰ã€‚

```swift
class Person  
{  
    //éšå¼æŒ‡æ˜å«æœ‰ "objc" å±æ€§
    //è¿™å¯¹ä¾èµ–äº Objc-C é»‘é­”æ³•çš„åº“æˆ–è€…æ¡†æ¶éå¸¸æœ‰ç”¨
    //æ¯”å¦‚ KVOã€KVCã€Swizzling
    dynamic var name:String?  
}
```

**didSet**ï¼šå±æ€§è§‚å¯Ÿè€…ï¼Œå½“å€¼å­˜å‚¨åˆ°å±æ€§åé©¬ä¸Šè°ƒç”¨ã€‚

```swift
var data = [1,2,3]  
{  
    didSet  
    {  
        tableView.reloadData()  
    }  
}
```

**final**ï¼šé˜²æ­¢æ–¹æ³•ã€å±æ€§ã€ä¸‹æ ‡è¢«é‡å†™ã€‚

```swift
final class Person {}  
class Programmer : Person {} //ç¼–è¯‘é”™è¯¯
```

**get**ï¼šè¿”å›æˆå‘˜çš„å€¼ã€‚è¿˜å¯ä»¥ç”¨åœ¨è®¡ç®—å‹å±æ€§ä¸Šï¼Œé—´æ¥è·å–å…¶å®ƒå±æ€§çš„å€¼ã€‚

```swift
class Person  
{  
    var name:String  
    {  
        get { return self.name }  
        set { self.name = newValue}  
    }

    var indirectSetName:String  
    {  
        get  
        {  
            if let aFullTitle = self.fullTitle  
            {  
                return aFullTitle  
            }  
            return ""  
        }

        set (newTitle)  
        {  
            //å¦‚æœæ²¡æœ‰å®šä¹‰ newTitleï¼Œå¯ä»¥ä½¿ç”¨ newValue
            self.fullTitle = "(self.name) :(newTitle)"  
        }
    }  
}
```

**infix**ï¼šæŒ‡æ˜ä¸€ä¸ªç”¨äºä¸¤ä¸ªå€¼ä¹‹é—´çš„è¿ç®—ç¬¦ã€‚å¦‚æœä¸€ä¸ªå…¨æ–°çš„å…¨å±€è¿ç®—ç¬¦è¢«å®šä¹‰ä¸º infixï¼Œè¿˜éœ€è¦æŒ‡å®šä¼˜å…ˆçº§ã€‚

```swift
let twoIntsAdded = 2 + 3
```

**indirect**ï¼šæŒ‡æ˜åœ¨æšä¸¾ç±»å‹ä¸­ï¼Œå­˜åœ¨æˆå‘˜ä½¿ç”¨ç›¸åŒæšä¸¾ç±»å‹çš„å®ä¾‹ä½œä¸ºå…³è”å€¼çš„æƒ…å†µã€‚

```swift
indirect enum Entertainment  
{  
    case eventType(String)  
    case oneEvent(Entertainment)  
    case twoEvents(Entertainment, Entertainment)  
}

let dinner = Entertainment.eventType("Dinner")  
let movie = Entertainment.eventType("Movie")

let dateNight = Entertainment.twoEvents(dinner, movie)
```

**lazy**ï¼šæŒ‡æ˜å±æ€§çš„åˆå§‹å€¼ï¼Œç›´åˆ°ç¬¬ä¸€æ¬¡è¢«ä½¿ç”¨æ—¶ï¼Œæ‰è¿›è¡Œåˆå§‹åŒ–ã€‚

```swift
class Person  
{  
    lazy var personalityTraits = {  
        //æ˜‚è´µçš„æ•°æ®åº“å¼€é”€  
        return ["Nice", "Funny"]  
    }()  
}
let aPerson = Person()  
aPerson.personalityTraits //å½“ personalityTraits é¦–æ¬¡è¢«è®¿é—®æ—¶ï¼Œæ•°æ®åº“æ‰å¼€å§‹å·¥ä½œ
```

**left**ï¼šæŒ‡æ˜è¿ç®—ç¬¦çš„ç»“åˆæ€§æ˜¯ä»å·¦åˆ°å³ã€‚åœ¨æ²¡æœ‰ä½¿ç”¨å¤§æ‹¬å·æ—¶ï¼Œå¯ä»¥ç”¨äºæ­£ç¡®åˆ¤æ–­åŒä¸€ä¼˜å…ˆçº§è¿ç®—ç¬¦çš„æ‰§è¡Œé¡ºåºã€‚

```swift
//"-" è¿ç®—ç¬¦çš„ç»“åˆæ€§æ˜¯ä»å·¦åˆ°å³
10-2-4 //æ ¹æ®ç»“åˆæ€§ï¼Œå¯ä»¥çœ‹åš (10-2) - 4
```

**mutating**ï¼šå…è®¸åœ¨æ–¹æ³•ä¸­ä¿®æ”¹ç»“æ„ä½“æˆ–è€…æšä¸¾å®ä¾‹çš„å±æ€§å€¼ã€‚

```swift
struct Person  
{  
    var job = ""

    mutating func assignJob(newJob:String)  
    {  
        self = Person(job: newJob)  
    }  
}

var aPerson = Person()  
aPerson.job //""

aPerson.assignJob(newJob: "iOS Engineer at Buffer")  
aPerson.job //iOS Engineer at Buffer
```

**none**ï¼šæ˜¯ä¸€ä¸ªæ²¡æœ‰ç»“åˆæ€§çš„è¿ç®—ç¬¦ã€‚ä¸å…è®¸è¿™æ ·çš„è¿ç®—ç¬¦ç›¸é‚»å‡ºç°ã€‚

```swift
//"<" æ˜¯éç»“åˆæ€§çš„è¿ç®—ç¬¦
1 < 2 < 3 //ç¼–è¯‘å¤±è´¥
```

**nonmutating**ï¼šæŒ‡æ˜æˆå‘˜çš„ setter æ–¹æ³•ä¸ä¼šä¿®æ”¹å®ä¾‹çš„å€¼ï¼Œä½†å¯èƒ½ä¼šæœ‰å…¶å®ƒåæœã€‚

```swift
enum Paygrade  
{  
    case Junior, Middle, Senior, Master

    var experiencePay:String?  
    {  
        get  
        {  
            database.payForGrade(String(describing:self))  
        }

        nonmutating set  
        {  
            if let newPay = newValue  
            {  
                database.editPayForGrade(String(describing:self), newSalary:newPay)  
            }  
        }  
    }  
}

let currentPay = Paygrade.Middle

//å°† Middle pay æ›´æ–°ä¸º 45k, ä½†ä¸ä¼šä¿®æ”¹ experiencePay å€¼
currentPay.experiencePay = "$45,000"
```

**optional**ï¼šç”¨äºæŒ‡æ˜åè®®ä¸­çš„å¯é€‰æ–¹æ³•ã€‚éµå®ˆè¯¥åè®®çš„å®ä½“ç±»å¯ä»¥ä¸å®ç°è¿™ä¸ªæ–¹æ³•ã€‚

```swift
@objc protocol Foo  
{  
    func requiredFunction()  
    @objc optional func optionalFunction()  
}

class Person : Foo  
{  
    func requiredFunction()  
    {  
        print("Conformance is now valid")  
    }  
}
```

**override**ï¼šæŒ‡æ˜å­ç±»ä¼šæä¾›è‡ªå®šä¹‰å®ç°ï¼Œè¦†ç›–çˆ¶ç±»çš„å®ä¾‹æ–¹æ³•ã€ç±»å‹æ–¹æ³•ã€å®ä¾‹å±æ€§ã€ç±»å‹å±æ€§ã€ä¸‹æ ‡ã€‚å¦‚æœæ²¡æœ‰å®ç°ï¼Œåˆ™ä¼šç›´æ¥ç»§æ‰¿è‡ªçˆ¶ç±»ã€‚

```swift
class Person  
{  
    func printInfo()  
    {  
        print("I'm just a person!")  
    }  
}

class Programmer : Person  
{  
    override func printInfo()  
    {  
        print("I'm a person who is a dev!")  
    }  
}

let aPerson = Person()  
let aDev = Programmer()

aPerson.printInfo() //æ‰“å° I'm just a person!  
aDev.printInfo() //æ‰“å° I'm a person who is a dev!
```

**postfix**ï¼šä½äºå€¼åé¢çš„è¿ç®—ç¬¦ã€‚

```swift
var optionalStr:String? = "Optional"  
print(optionalStr!)
```

**precedence**ï¼šæŒ‡æ˜æŸä¸ªè¿ç®—ç¬¦çš„ä¼˜å…ˆçº§é«˜äºåˆ«çš„è¿ç®—ç¬¦ï¼Œä»è€Œè¢«ä¼˜å…ˆä½¿ç”¨ã€‚

```swift
infix operator ~ { associativity right precedence 140 }  
4 ~ 8
```

**prefix**ï¼šä½äºå€¼å‰é¢çš„è¿ç®—ç¬¦ã€‚

```swift
var anInt = 2  
anInt = -anInt //anInt ç­‰äº -2
```

**required**ï¼šç¡®ä¿ç¼–è¯‘å™¨ä¼šæ£€æŸ¥è¯¥ç±»çš„æ‰€æœ‰å­ç±»ï¼Œå…¨éƒ¨å®ç°äº†æŒ‡å®šçš„æ„é€ å™¨æ–¹æ³•ã€‚

```swift
class Person  
{  
    var name:String?

    required init(_ name:String)  
    {  
        self.name = name  
    }  
}

class Programmer : Person  
{  
    //å¦‚æœä¸å®ç°è¿™ä¸ªæ–¹æ³•ï¼Œç¼–è¯‘ä¸ä¼šé€šè¿‡
    required init(_ name: String)  
    {  
        super.init(name)  
    }  
}
```

**right**ï¼šæŒ‡æ˜è¿ç®—ç¬¦çš„ç»“åˆæ€§æ˜¯ä»å³åˆ°å·¦çš„ã€‚åœ¨æ²¡æœ‰ä½¿ç”¨å¤§æ‹¬å·æ—¶ï¼Œå¯ä»¥ç”¨äºæ­£ç¡®åˆ¤æ–­åŒä¸€ä¼˜å…ˆçº§è¿ç®—ç¬¦çš„é¡ºåºã€‚

```swift
//"??" è¿ç®—ç¬¦ç»“åˆæ€§æ˜¯ä»å³åˆ°å·¦
var box:Int?  
var sol:Int? = 2

let foo:Int = box ?? sol ?? 0 //Foo ç­‰äº 2
```

**set**ï¼šé€šè¿‡è·å–çš„æ–°å€¼æ¥è®¾ç½®æˆå‘˜çš„å€¼ã€‚åŒæ ·å¯ä»¥ç”¨äºè®¡ç®—å‹å±æ€§æ¥é—´æ¥è®¾ç½®å…¶å®ƒå±æ€§ã€‚å¦‚æœè®¡ç®—å‹å±æ€§çš„ setter æ²¡æœ‰å®šä¹‰æ–°å€¼çš„åç§°ï¼Œå¯ä»¥ä½¿ç”¨é»˜è®¤çš„ newValueã€‚

```swift
class Person  
{  
    var name:String  
    {  
        get { return self.name }  
        set { self.name = newValue}  
    }

    var indirectSetName:String  
    {  
        get  
        {  
            if let aFullTitle = self.fullTitle  
            {  
                return aFullTitle  
            }  
            return ""  
        }

        set (newTitle)  
        {  
            //å¦‚æœæ²¡æœ‰å®šä¹‰ newTitleï¼Œå¯ä»¥ä½¿ç”¨ newValue
            self.fullTitle = "(self.name) :(newTitle)"  
        }  
    }  
}
```

**Type**ï¼šè¡¨ç¤ºä»»æ„ç±»å‹çš„ç±»å‹ï¼ŒåŒ…æ‹¬ç±»ç±»å‹ã€ç»“æ„ç±»å‹ã€æšä¸¾ç±»å‹ã€åè®®ç±»å‹ã€‚

```swift
class Person {}  
class Programmer : Person {}

let aDev:Programmer.Type = Programmer.self
```

**unowned**ï¼šè®©å¾ªç¯å¼•ç”¨ä¸­çš„å®ä¾‹ A ä¸è¦å¼ºå¼•ç”¨å®ä¾‹ Bã€‚å‰ææ¡ä»¶æ˜¯å®ä¾‹ B çš„ç”Ÿå‘½å‘¨æœŸè¦é•¿äº A å®ä¾‹ã€‚

```swift
class Person  
{  
    var occupation:Job?  
}

//å½“ Person å®ä¾‹ä¸å­˜åœ¨æ—¶ï¼Œjob ä¹Ÿä¸ä¼šå­˜åœ¨ã€‚job çš„ç”Ÿå‘½å‘¨æœŸå–å†³äºæŒæœ‰å®ƒçš„ Personã€‚
class Job  
{  
    unowned let employee:Person

    init(with employee:Person)  
    {  
        self.employee = employee  
    }  
}
```

**weak**ï¼šå…è®¸å¾ªç¯å¼•ç”¨ä¸­çš„å®ä¾‹ A å¼±å¼•ç”¨å®ä¾‹ B ï¼Œè€Œä¸æ˜¯å¼ºå¼•ç”¨ã€‚å®ä¾‹ B çš„ç”Ÿå‘½å‘¨æœŸæ›´çŸ­ï¼Œå¹¶ä¼šè¢«å…ˆé‡Šæ”¾ã€‚

```swift
class Person  
{  
    var residence:House?  
}

class House  
{  
    weak var occupant:Person?  
}

var me:Person? = Person()  
var myHome:House? = House()

me!.residence = myHome  
myHome!.occupant = me

me = nil  
myHome!.occupant // myHome ç­‰äº nil
```

**willSet**ï¼šå±æ€§è§‚å¯Ÿè€…ï¼Œåœ¨å€¼å­˜å‚¨åˆ°å±æ€§ä¹‹å‰è°ƒç”¨ã€‚

```swift
class Person  
{  
    var name:String?  
    {  
        willSet(newValue) {print("I've got a new name, it's (newValue)!")}  
    }  
}

let aPerson = Person()  
aPerson.name = "Jordan" //åœ¨èµ‹å€¼ä¹‹å‰ï¼Œæ‰“å° "I've got a new name, it's Jordan!"
```



## SwiftUI

è¿™æ˜¯Appleçš„UIæ¡†æ¶ï¼Œ

* [å…¬å¼€è¯¾](https://www.bilibili.com/video/BV1EV411C77B?p=1)ã€

### MVVMè®¾è®¡æ¨¡å¼

![MVVM](learn-swift.assets/MVVM.png)



### View

```swift
import SwiftUI

var a = 1
var b: int = 1

let d = [1, 2, 3]

var c = [1, 2, 3]
c = [1,2,4]

struct ContentView: View {
    var body: some View {
        //è¿™é‡Œsome Viewå¹¶ä¸æ˜¯åƒJavaScipté‚£ç§å¼±ç±»å‹ã€åŠ¨æ€ç‰¹æ€§ï¼Œè€Œæ˜¯å‘Šè¯‰ç¼–è¯‘å™¨ï¼Œä¸‹é¢çš„Textæˆ–è€…åˆ«çš„ï¼Œä½ è¦åšå‡ºåˆ¤æ–­ï¼Œç¡®ä¿å®ƒä»¬æ˜¯ä¸€ä¸ªViewã€‚
        Text("Hello, world!")
            .padding()
    }
}
```



